{"version":3,"file":"CvpYKvOT.js","sources":["../../../../pages/index.vue"],"sourcesContent":["<script setup lang=\"ts\">\n//\n// Imports\n//\nimport { useDisplay } from \"vuetify\";\n\n//\n// State\n//\n\n// Screen size\nconst { smAndDown } = useDisplay();\n\n// Form state\nconst form = reactive({\n  pid: null as number | null,\n  hph: null as string | null,\n  location: null as string | null,\n  saleSchema: null as string | null,\n});\n\n// Identifier Type Switch (true for PID, false for HPH)\nconst identifierType = ref<boolean>(true);\n\n// Form ref for validation\nconst formRef = ref();\n\n// Loading state\nconst isLoading = ref(false);\n\n// Location list items\nconst locationItems = [\n  \"Асеновград\",\n  \"Търново\",\n  \"София\",\n  \"Пловдив\",\n  \"Плевен\",\n  \"Хасково\",\n];\n\n// Sale schema list items\nconst saleSchemaItems = [\"НЗОК - Асеновград\", \"НЗОК - Пловдив\", \"НЗОК - София\"];\n\n// Copy to clipboard\nconst textToCopy = ref<string | number>(\"\");\nconst showSmallTooltip = ref(false);\n\n// Examination Table\nconst examinationTableItems = [\n  {\n    code: \"00-02A\",\n    examinationName: \"Изследване на витамин D\",\n  },\n];\n\nconst examinationTableHeaders = [\n  { key: \"code\", title: \"Код\", align: \"start\" as \"start\" },\n  { key: \"examinationName\", title: \"Изследване\", align: \"start\" as \"start\" },\n];\n\n// Performer Select\nconst performerSelectItems = [\n  { name: \"Д-р Иванов\", department: \"Кардиология\" },\n  { name: \"Д-р Петрова\", department: \"Неврология\" },\n  { name: \"Д-р Георгиев\", department: \"Ортопедия\" },\n  { name: \"Д-р Стефанова\", department: \"Педиатрия\" },\n  { name: \"Д-р Николов\", department: \"Офталмология\" },\n  { name: \"Д-р Димитрова\", department: \"Хирургия\" },\n];\n\n//\n// Methods\n//\n\n// Validation rule for PID\nconst pidValidationRule = (v: string) => {\n  const regex = /^\\d{10}$/;\n  if (!v) {\n    return \"ЕГН/ЛНЧ не може да бъде празно\";\n  } else if (!regex.test(v)) {\n    return \"ЕГН/ЛНЧ трябва да съдържа точно 10 цифри\";\n  }\n  return true;\n};\n\n// Validation rule for HPH\nconst hphValidationRule = (v: string) => {\n  const regex = /^[0-9А-Яа-я]{12}$/; // Ensure exactly 12 characters: numbers or Cyrillic letters\n  if (!v) {\n    return \"HPH не може да бъде празно\";\n  } else if (!regex.test(v)) {\n    return \"HPH трябва да съдържа точно 12 символа (цифри и/или букви на кирилица)\";\n  }\n  return true;\n};\n\n//\n// Methods\n//\n\n// Validate form fields\nconst validateForm = () => {\n  const pidValid = identifierType.value\n    ? pidValidationRule(form.pid?.toString() || \"\") === true\n    : hphValidationRule(form.hph?.toString() || \"\") === true;\n\n  if (!pidValid) {\n    console.error(\"Invalid PID/HPH\");\n  }\n\n  return pidValid;\n};\n\n// Handle form submission\nconst handleSubmit = async () => {\n  if (validateForm()) {\n    // Start loading\n    isLoading.value = true;\n\n    // Simulate a 1-second delay\n    await new Promise((resolve) => setTimeout(resolve, 1000));\n\n    console.log(\"Form submitted:\", {\n      ...form,\n      identifierType: identifierType.value ? \"PID\" : \"HPH\",\n    });\n\n    // Stop loading\n    isLoading.value = false;\n  } else {\n    console.log(\"Form validation failed.\");\n  }\n};\n\n/**\n * Handles copying the text from the `hph-text` div to the clipboard.\n */\nconst copyToClipboard = () => {\n  const textElement = document.getElementById(\"copy-text\");\n\n  if (textElement) {\n    const textToCopy = textElement.textContent?.trim() || \"\";\n\n    if (!navigator.clipboard?.writeText) {\n      console.error(\"Clipboard API is not supported in this browser.\");\n      alert(\"Клипбордът не е поддържан в този браузър.\");\n      return;\n    }\n\n    navigator.clipboard\n      .writeText(textToCopy)\n      .then(() => {\n        // Show the tooltip after successful copy\n        showSmallTooltip.value = true;\n\n        // Hide tooltip after 1 second\n        setTimeout(() => {\n          showSmallTooltip.value = false;\n        }, 1000);\n      })\n      .catch((err) => {\n        console.error(\"Failed to copy text to clipboard:\", err);\n        alert(\"Неуспешно копиране. Опитайте отново.\");\n      });\n  } else {\n    console.error(\"Text element not found.\");\n  }\n};\n\nconst performerSelectProps = (performer: {\n  name: string;\n  department: string;\n}) => {\n  return {\n    title: performer.name,\n    subtitle: performer.department,\n  };\n};\n\n//\n// Computed\n//\n\n// Computed property for the counter\nconst counter = computed(() => {\n  // Convert to string and get length\n  const length = form.pid ? form.pid.toString().length : 0;\n  return length;\n});\n\n//\n// On component mount\n//\n\n// Set default location to the first item in the list when the component is mounted\nonMounted(() => {\n  form.location = form.location || locationItems[0];\n  form.saleSchema = form.saleSchema || saleSchemaItems[0];\n});\n\n//\n// Metadata\n//\n\n// Set the page's head metadata\nuseHead({\n  link: [{ rel: \"icon\", type: \"image/svg+xml\", href: \"\" }],\n  title: \"НЗИС Import Application\",\n  htmlAttrs: {\n    lang: \"bg\",\n  },\n  meta: [\n    {\n      name: \"description\",\n      content:\n        \"НЗИС Import Application е приложение за импортиране на данни за пациенти от Националната здравна информационна система (НЗИС), което позволява лесно извличане на данни и реферали за пациента.\",\n    },\n    {\n      name: \"keywords\",\n      content: \"НЗИС, пациентски данни, реферали, импортиране, здравеопазване\",\n    },\n    { name: \"author\", content: \"SKYWARE Group | LIMS iLab\" },\n    { name: \"viewport\", content: \"width=device-width, initial-scale=1\" },\n  ],\n});\n</script>\n\n<template>\n  <v-container\n    max-width=\"1024\"\n    height=\"100%\"\n    class=\"w-100 mx-auto d-flex flex-column ga-4 px-4 py-8\"\n  >\n    <!-- Loading Overlay -->\n    <v-overlay\n      :model-value=\"isLoading\"\n      z-index=\"50\"\n      color=\"rgba(0, 0, 0, 0.5)\"\n      class=\"align-center justify-center\"\n    >\n      <v-progress-circular\n        indeterminate\n        color=\"white\"\n        size=\"50\"\n      ></v-progress-circular>\n    </v-overlay>\n\n    <!-- Actions -->\n    <div\n      class=\"d-flex flex-wrap flex-md-row flex-column-reverse align-start align-md-center justify-space-between ga-4\"\n    >\n      <!-- PID/HPH Switch -->\n      <div class=\"d-flex align-center ga-4\">\n        <span>Търсете направления по</span>\n        <v-switch\n          v-model=\"identifierType\"\n          :hide-details=\"true\"\n          color=\"primary\"\n          :label=\"identifierType ? 'ЕГН/ЛЧН' : 'HPH'\"\n        >\n          <template v-slot:label>\n            {{ identifierType ? \"ЕГН/ЛЧН\" : \"HPH\" }}\n          </template>\n        </v-switch>\n      </div>\n\n      <div class=\"d-flex align-center ga-4\">\n        <!-- Import -->\n        <v-btn\n          color=\"primary\"\n          rounded=\"lg\"\n          variant=\"outlined\"\n          prepend-icon=\"mdi-file-import-outline\"\n          class=\"d-flex\"\n          v-tooltip:bottom=\"{\n            text: 'Импортиране на маркираните направления',\n            openDelay: 700,\n          }\"\n        >\n          <span class=\"text-body-2\">Импорт</span>\n        </v-btn>\n\n        <!-- Print -->\n        <v-btn\n          color=\"\"\n          rounded=\"lg\"\n          variant=\"outlined\"\n          prepend-icon=\"mdi-printer-outline\"\n          class=\"d-flex\"\n          v-tooltip:bottom=\"{\n            text: 'Печатане на маркираните направления',\n            openDelay: 700,\n          }\"\n        >\n          <span class=\"text-body-2\">Печат</span>\n        </v-btn>\n\n        <!-- Clear All -->\n        <v-btn\n          color=\"error\"\n          rounded=\"lg\"\n          variant=\"outlined\"\n          prepend-icon=\"mdi-close\"\n          class=\"d-flex\"\n          v-tooltip:bottom=\"{\n            text: 'Изчистисване на всички направления',\n            openDelay: 700,\n          }\"\n        >\n          <span class=\"text-body-2\">Изчисти</span>\n        </v-btn>\n      </div>\n    </div>\n\n    <!-- Form -->\n    <v-form ref=\"formRef\" @submit.prevent=\"handleSubmit\">\n      <v-row class=\"d-flex flex-wrap\" align=\"stretch\" justify=\"space-between\">\n        <!-- PID/HPH Inputs -->\n        <v-col cols=\"12\">\n          <!-- PID Input -->\n          <v-number-input\n            v-if=\"identifierType\"\n            v-model=\"form.pid\"\n            :value=\"form.pid\"\n            label=\"ЕГН/ЛЧН\"\n            control-variant=\"hidden\"\n            maxlength=\"10\"\n            variant=\"outlined\"\n            placeholder=\"5303266698\"\n            density=\"comfortable\"\n            rounded=\"lg\"\n            hint=\"Въведете валиден ЕГН/ЛНЧ (само цифри)\"\n            persistent-hint\n            :rules=\"[pidValidationRule]\"\n            :counter=\"counter\"\n            @keydown.enter=\"handleSubmit\"\n          >\n            <!-- Search Action -->\n            <template v-slot:append-inner>\n              <v-tooltip>\n                <template v-slot:activator=\"{ props }\">\n                  <v-icon\n                    class=\"cursor-pointer\"\n                    v-bind=\"props\"\n                    @click=\"handleSubmit\"\n                  >\n                    mdi-magnify\n                  </v-icon>\n                </template>\n\n                <!-- Tooltip -->\n                <span>Търсене</span>\n              </v-tooltip>\n            </template>\n          </v-number-input>\n\n          <!-- HPH Input -->\n          <v-text-field\n            v-else\n            v-model=\"form.hph\"\n            :value=\"form.hph\"\n            label=\"HPH\"\n            type=\"text\"\n            maxlength=\"12\"\n            variant=\"outlined\"\n            placeholder=\"5АГ30326ПВ98\"\n            density=\"comfortable\"\n            rounded=\"lg\"\n            hint=\"Въведете валиден HPH\"\n            persistent-hint\n            :rules=\"[hphValidationRule]\"\n            :counter=\"counter\"\n            @keydown.enter=\"handleSubmit\"\n          >\n            <!-- Search Action -->\n            <template v-slot:append-inner>\n              <v-tooltip>\n                <template v-slot:activator=\"{ props }\">\n                  <v-icon\n                    class=\"cursor-pointer\"\n                    v-bind=\"props\"\n                    @click=\"handleSubmit\"\n                  >\n                    mdi-magnify\n                  </v-icon>\n                </template>\n\n                <!-- Tooltip -->\n                <span>Търсене</span>\n              </v-tooltip>\n            </template>\n          </v-text-field>\n        </v-col>\n\n        <!-- Sale Schema Select -->\n        <v-col cols=\"12\" md=\"6\">\n          <v-select\n            v-model=\"form.saleSchema\"\n            :value=\"form.saleSchema\"\n            :items=\"saleSchemaItems\"\n            prepend-inner-icon=\"mdi-currency-eur\"\n            label=\"Изберете схема на продажба\"\n            control-variant=\"hidden\"\n            maxlength=\"10\"\n            variant=\"outlined\"\n            placeholder=\"Схема на продажба\"\n            density=\"comfortable\"\n            rounded=\"lg\"\n            hint=\"Изберете схема на продажба от списъка.\"\n            persistent-hint\n          >\n          </v-select>\n        </v-col>\n\n        <!-- Location Select -->\n        <v-col cols=\"12\" md=\"6\">\n          <v-select\n            v-model=\"form.location\"\n            :value=\"form.location\"\n            :items=\"locationItems\"\n            prepend-inner-icon=\"mdi-map-marker-outline\"\n            label=\"Изберете местоположение\"\n            control-variant=\"hidden\"\n            maxlength=\"10\"\n            variant=\"outlined\"\n            placeholder=\"Местоположение\"\n            density=\"comfortable\"\n            rounded=\"lg\"\n            hint=\"Изберете местоположение от списъка.\"\n            persistent-hint\n          >\n          </v-select>\n        </v-col>\n      </v-row>\n    </v-form>\n\n    <!-- Divider -->\n    <v-divider class=\"my-6\"></v-divider>\n\n    <!-- References -->\n    <v-row align=\"stretch\" justify=\"start\" class=\"flex-0-1\">\n      <!-- Reference -->\n      <v-col cols=\"12\" sm=\"6\" style=\"height: fit-content\">\n        <v-card class=\"bg-white\" rounded=\"lg\" flat border>\n          <!-- Title -->\n          <v-card-title\n            class=\"d-flex bg-grey-lighten-5 justify-space-between align-center px-2 py-0\"\n          >\n            <!-- Import Checkbox -->\n            <v-checkbox\n              :hide-details=\"true\"\n              style=\"scale: 0.8\"\n              color=\"primary\"\n              tabindex=\"0\"\n              aria-label=\"Селектирайте направлението\"\n              v-tooltip:bottom=\"{\n                text: 'Селектирайте направлението',\n                openDelay: 700,\n              }\"\n            ></v-checkbox>\n\n            <!-- PID/HPH -->\n            <div class=\"d-flex align-center ga-1\">\n              <div class=\"text-subtitle-2\" id=\"copy-text\">\n                <b> HPH: 1234567890аж </b>\n              </div>\n\n              <!-- Copy Button -->\n              <div class=\"relative d-flex align-center\">\n                <v-btn\n                  icon=\"mdi-content-copy\"\n                  size=\"x-small\"\n                  rounded=\"circle\"\n                  variant=\"text\"\n                  color=\"\"\n                  @click=\"copyToClipboard\"\n                  tabindex=\"0\"\n                  aria-label=\"Кликнете, за да копирате в клипборда\"\n                  v-tooltip:bottom=\"{\n                    text: 'Кликнете, за да копирате в клипборда',\n                    openDelay: 700,\n                  }\"\n                >\n                </v-btn>\n\n                <!-- Tooltip that appears after copy action -->\n                <v-fade-transition>\n                  <div\n                    v-if=\"showSmallTooltip\"\n                    class=\"rounded-lg text-caption absolute ml-10 px-2\"\n                    style=\"position: absolute; background-color: #e0e0e0\"\n                  >\n                    Копирано\n                  </div>\n                </v-fade-transition>\n              </div>\n            </div>\n\n            <!-- Close Icon -->\n            <v-btn\n              icon=\"mdi-close\"\n              color=\"error\"\n              size=\"small\"\n              variant=\"text\"\n              aria-label=\"Затворете направлението\"\n              v-tooltip:bottom=\"{\n                text: 'Затворете направлението',\n                openDelay: 700,\n              }\"\n            ></v-btn>\n          </v-card-title>\n\n          <!-- Divider -->\n          <v-divider></v-divider>\n\n          <!-- Content -->\n          <v-card-text class=\"px-4 py-2\">\n            <!-- Patient -->\n            <v-hover>\n              <template #default=\"{ isHovering, props }\">\n                <div\n                  v-bind=\"props\"\n                  class=\"d-flex flex-wrap align-center ga-2 rounded pa-2\"\n                  :class=\"{ 'bg-grey-lighten-5': isHovering }\"\n                >\n                  <!-- Icon -->\n                  <v-icon icon=\"mdi-account-outline\" size=\"small\"></v-icon>\n\n                  <!-- Name -->\n                  <b>Велизар Петков Шилев</b>\n\n                  <!-- PID -->\n                  <div>1944024426</div>\n                </div>\n              </template>\n            </v-hover>\n\n            <!-- Date -->\n            <v-hover>\n              <template #default=\"{ isHovering, props }\">\n                <div\n                  v-bind=\"props\"\n                  class=\"d-flex flex-wrap align-center ga-2 rounded pa-2\"\n                  :class=\"{ 'bg-grey-lighten-5': isHovering }\"\n                >\n                  <!-- Icon -->\n                  <v-icon\n                    icon=\"mdi-calendar-month-outline\"\n                    size=\"small\"\n                  ></v-icon>\n\n                  <!-- Date -->\n                  <div>Изд. <b>09 апр 2025г.</b></div>\n\n                  <!-- List -->\n                  <div>(Амб. л-т <b>25099A0000F6</b>)</div>\n\n                  <!-- Type -->\n                  <div>вид <b>1</b></div>\n                </div>\n              </template>\n            </v-hover>\n\n            <!-- Location -->\n            <v-hover>\n              <template #default=\"{ isHovering, props }\">\n                <div\n                  v-bind=\"props\"\n                  class=\"d-flex flex-wrap align-center ga-2 rounded pa-2\"\n                  :class=\"{ 'bg-grey-lighten-5': isHovering }\"\n                >\n                  <!-- Icon -->\n                  <v-icon icon=\"mdi-map-marker-outline\" size=\"small\"></v-icon>\n\n                  <!-- Practise Location -->\n                  <div>Пловдив (<b>16</b>)</div>\n\n                  <!-- Region -->\n                  <div>Съединение (<b>15</b>)</div>\n                </div>\n              </template>\n            </v-hover>\n\n            <!-- Condition -->\n            <v-hover>\n              <template #default=\"{ isHovering, props }\">\n                <div\n                  v-bind=\"props\"\n                  class=\"d-flex flex-wrap align-center ga-2 rounded pa-2\"\n                  :class=\"{ 'bg-grey-lighten-5': isHovering }\"\n                >\n                  <!-- Icon -->\n                  <v-icon\n                    icon=\"mdi-clipboard-pulse-outline\"\n                    size=\"small\"\n                  ></v-icon>\n\n                  <!-- Patient's Condition -->\n                  <div>ZOO</div>\n                </div>\n              </template>\n            </v-hover>\n\n            <!-- Doctor -->\n            <v-hover>\n              <template #default=\"{ isHovering, props }\">\n                <div\n                  v-bind=\"props\"\n                  class=\"d-flex flex-wrap align-center ga-2 rounded pa-2\"\n                  :class=\"{ 'bg-grey-lighten-5': isHovering }\"\n                >\n                  <!-- Icon -->\n                  <v-icon icon=\"mdi-doctor\" size=\"small\"></v-icon>\n\n                  <!-- Doctor's Name -->\n                  <b>Тодор Николов</b>\n\n                  <!-- Doctor's Identifier -->\n                  <div>УИН: <b>1700003565</b></div>\n                </div>\n              </template>\n            </v-hover>\n\n            <!-- Specialty -->\n            <v-hover>\n              <template #default=\"{ isHovering, props }\">\n                <div\n                  v-bind=\"props\"\n                  class=\"d-flex flex-wrap align-center ga-2 rounded pa-2\"\n                  :class=\"{ 'bg-grey-lighten-5': isHovering }\"\n                >\n                  <!-- Icon -->\n                  <v-icon icon=\"mdi-stethoscope\" size=\"small\"></v-icon>\n\n                  <!-- Doctor's Specialty -->\n                  <div><b>06</b> (Вътрешни болести)</div>\n                </div>\n              </template>\n            </v-hover>\n\n            <!-- Doctor's Practise Location -->\n            <v-hover>\n              <template #default=\"{ isHovering, props }\">\n                <div\n                  v-bind=\"props\"\n                  class=\"d-flex flex-wrap align-center ga-2 rounded pa-2\"\n                  :class=\"{ 'bg-grey-lighten-5': isHovering }\"\n                >\n                  <!-- Icon -->\n                  <v-icon icon=\"mdi-hospital-building\" size=\"small\"></v-icon>\n\n                  <!-- Doctor's Practise -->\n                  <div>РЗИ код: <b>1622111277</b></div>\n                </div>\n              </template>\n            </v-hover>\n\n            <!-- Examination Table -->\n            <v-data-table\n              :headers=\"examinationTableHeaders\"\n              :items=\"examinationTableItems\"\n              :mobile=\"smAndDown\"\n              :disable-sort=\"true\"\n              :hide-default-header=\"smAndDown\"\n              hide-default-footer\n              density=\"compact\"\n              class=\"bg-white w-100 border my-2 rounded\"\n            >\n              <!-- Head Section -->\n              <template\n                v-for=\"header in examinationTableHeaders\"\n                #[`header.${header.key}`]\n                :key=\"header.key\"\n              >\n                <div\n                  class=\"d-flex align-center font-weight-bold\"\n                  style=\"text-wrap-mode: nowrap\"\n                >\n                  <span>{{ header.title }}</span>\n                </div>\n              </template>\n\n              <!-- Body Section -->\n              <!-- Code -->\n              <template v-slot:[`item.code`]=\"{ item }\">\n                <div\n                  class=\"d-flex align-center ga-0\"\n                  :class=\"smAndDown ? 'justify-end' : 'justify-start'\"\n                >\n                  <span>{{ item.code }}</span>\n                </div>\n              </template>\n\n              <!-- Examination -->\n              <template v-slot:[`item.examinationName`]=\"{ item }\">\n                <div\n                  class=\"d-flex align-center ga-0\"\n                  :class=\"smAndDown ? 'justify-end' : 'justify-start'\"\n                >\n                  <span>{{ item.examinationName }}</span>\n                </div>\n              </template>\n            </v-data-table>\n\n            <!-- Select Performer -->\n            <v-select\n              :item-props=\"performerSelectProps\"\n              :items=\"performerSelectItems\"\n              prepend-inner-icon=\"mdi-hospital-box-outline\"\n              label=\"Изпълнител на направлението\"\n              control-variant=\"hidden\"\n              variant=\"outlined\"\n              placeholder=\"Изпълнител на направлението\"\n              density=\"compact\"\n              :hide-details=\"true\"\n              rounded=\"lg\"\n              class=\"mt-4\"\n            ></v-select>\n\n            <!-- Sample Date Input -->\n            <v-date-input\n              prepend-icon=\"\"\n              prepend-inner-icon=\"mdi-test-tube\"\n              label=\"Дата на материал\"\n              variant=\"outlined\"\n              density=\"compact\"\n              rounded=\"lg\"\n              :hide-details=\"true\"\n              class=\"mt-4\"\n            ></v-date-input>\n\n            <!-- Result Date Input -->\n            <v-date-input\n              prepend-icon=\"\"\n              prepend-inner-icon=\"mdi-file-document-arrow-right-outline\"\n              label=\"Дата на резултат\"\n              variant=\"outlined\"\n              density=\"compact\"\n              rounded=\"lg\"\n              :hide-details=\"true\"\n              class=\"mt-4\"\n            ></v-date-input>\n          </v-card-text>\n        </v-card>\n      </v-col>\n\n      <!-- Reference -->\n      <v-col cols=\"12\" sm=\"6\" style=\"height: fit-content\">\n        <v-card class=\"bg-white\" rounded=\"lg\" flat border>\n          <!-- Title -->\n          <v-card-title\n            class=\"d-flex bg-grey-lighten-5 justify-space-between align-center px-2 py-0\"\n          >\n            <!-- Import Checkbox -->\n            <v-checkbox\n              :hide-details=\"true\"\n              style=\"scale: 0.8\"\n              color=\"primary\"\n              tabindex=\"0\"\n              aria-label=\"Селектирайте направлението\"\n              v-tooltip:bottom=\"{\n                text: 'Селектирайте направлението',\n                openDelay: 700,\n              }\"\n            ></v-checkbox>\n\n            <!-- PID/HPH -->\n            <div class=\"d-flex align-center ga-1\">\n              <div class=\"text-subtitle-2\" id=\"copy-text\">\n                <b> HPH: 1234567890аж </b>\n              </div>\n\n              <!-- Copy Button -->\n              <div class=\"relative d-flex align-center\">\n                <v-btn\n                  icon=\"mdi-content-copy\"\n                  size=\"x-small\"\n                  rounded=\"circle\"\n                  variant=\"text\"\n                  color=\"\"\n                  @click=\"copyToClipboard\"\n                  tabindex=\"0\"\n                  aria-label=\"Кликнете, за да копирате в клипборда\"\n                  v-tooltip:bottom=\"{\n                    text: 'Кликнете, за да копирате в клипборда',\n                    openDelay: 700,\n                  }\"\n                >\n                </v-btn>\n\n                <!-- Tooltip that appears after copy action -->\n                <v-fade-transition>\n                  <div\n                    v-if=\"showSmallTooltip\"\n                    class=\"rounded-lg text-caption absolute ml-10 px-2\"\n                    style=\"position: absolute; background-color: #e0e0e0\"\n                  >\n                    Копирано\n                  </div>\n                </v-fade-transition>\n              </div>\n            </div>\n\n            <!-- Close Icon -->\n            <v-btn\n              icon=\"mdi-close\"\n              color=\"error\"\n              size=\"small\"\n              variant=\"text\"\n              aria-label=\"Затворете направлението\"\n              v-tooltip:bottom=\"{\n                text: 'Затворете направлението',\n                openDelay: 700,\n              }\"\n            ></v-btn>\n          </v-card-title>\n\n          <!-- Divider -->\n          <v-divider></v-divider>\n\n          <!-- Content -->\n          <v-card-text class=\"px-4 py-2\">\n            <!-- Patient -->\n            <v-hover>\n              <template #default=\"{ isHovering, props }\">\n                <div\n                  v-bind=\"props\"\n                  class=\"d-flex flex-wrap align-center ga-2 rounded pa-2\"\n                  :class=\"{ 'bg-grey-lighten-5': isHovering }\"\n                >\n                  <!-- Icon -->\n                  <v-icon icon=\"mdi-account-outline\" size=\"small\"></v-icon>\n\n                  <!-- Name -->\n                  <b>Иван Кирков Милев</b>\n\n                  <!-- PID -->\n                  <div>1234567890</div>\n                </div>\n              </template>\n            </v-hover>\n\n            <!-- Date -->\n            <v-hover>\n              <template #default=\"{ isHovering, props }\">\n                <div\n                  v-bind=\"props\"\n                  class=\"d-flex flex-wrap align-center ga-2 rounded pa-2\"\n                  :class=\"{ 'bg-grey-lighten-5': isHovering }\"\n                >\n                  <!-- Icon -->\n                  <v-icon\n                    icon=\"mdi-calendar-month-outline\"\n                    size=\"small\"\n                  ></v-icon>\n\n                  <!-- Date -->\n                  <div>Изд. <b>10 юни 2024г.</b></div>\n\n                  <!-- List -->\n                  <div>(Амб. л-т <b>32519A0000F6</b>)</div>\n\n                  <!-- Type -->\n                  <div>вид <b>2</b></div>\n                </div>\n              </template>\n            </v-hover>\n\n            <!-- Location -->\n            <v-hover>\n              <template #default=\"{ isHovering, props }\">\n                <div\n                  v-bind=\"props\"\n                  class=\"d-flex flex-wrap align-center ga-2 rounded pa-2\"\n                  :class=\"{ 'bg-grey-lighten-5': isHovering }\"\n                >\n                  <!-- Icon -->\n                  <v-icon icon=\"mdi-map-marker-outline\" size=\"small\"></v-icon>\n\n                  <!-- Practise Location -->\n                  <div>София (<b>5</b>)</div>\n\n                  <!-- Region -->\n                  <div>Студентски (<b>9</b>)</div>\n                </div>\n              </template>\n            </v-hover>\n\n            <!-- Condition -->\n            <v-hover>\n              <template #default=\"{ isHovering, props }\">\n                <div\n                  v-bind=\"props\"\n                  class=\"d-flex flex-wrap align-center ga-2 rounded pa-2\"\n                  :class=\"{ 'bg-grey-lighten-5': isHovering }\"\n                >\n                  <!-- Icon -->\n                  <v-icon\n                    icon=\"mdi-clipboard-pulse-outline\"\n                    size=\"small\"\n                  ></v-icon>\n\n                  <!-- Patient's Condition -->\n                  <div>ZOO</div>\n                </div>\n              </template>\n            </v-hover>\n\n            <!-- Doctor -->\n            <v-hover>\n              <template #default=\"{ isHovering, props }\">\n                <div\n                  v-bind=\"props\"\n                  class=\"d-flex flex-wrap align-center ga-2 rounded pa-2\"\n                  :class=\"{ 'bg-grey-lighten-5': isHovering }\"\n                >\n                  <!-- Icon -->\n                  <v-icon icon=\"mdi-doctor\" size=\"small\"></v-icon>\n\n                  <!-- Doctor's Name -->\n                  <b>Никола Тодоров</b>\n\n                  <!-- Doctor's Identifier -->\n                  <div>УИН: <b>2300004163</b></div>\n                </div>\n              </template>\n            </v-hover>\n\n            <!-- Specialty -->\n            <v-hover>\n              <template #default=\"{ isHovering, props }\">\n                <div\n                  v-bind=\"props\"\n                  class=\"d-flex flex-wrap align-center ga-2 rounded pa-2\"\n                  :class=\"{ 'bg-grey-lighten-5': isHovering }\"\n                >\n                  <!-- Icon -->\n                  <v-icon icon=\"mdi-stethoscope\" size=\"small\"></v-icon>\n\n                  <!-- Doctor's Specialty -->\n                  <div><b>06</b> (Вътрешни болести)</div>\n                </div>\n              </template>\n            </v-hover>\n\n            <!-- Doctor's Practise Location -->\n            <v-hover>\n              <template #default=\"{ isHovering, props }\">\n                <div\n                  v-bind=\"props\"\n                  class=\"d-flex flex-wrap align-center ga-2 rounded pa-2\"\n                  :class=\"{ 'bg-grey-lighten-5': isHovering }\"\n                >\n                  <!-- Icon -->\n                  <v-icon icon=\"mdi-hospital-building\" size=\"small\"></v-icon>\n\n                  <!-- Doctor's Practise -->\n                  <div>РЗИ код: <b>2321131225</b></div>\n                </div>\n              </template>\n            </v-hover>\n\n            <!-- Examination Table -->\n            <v-data-table\n              :headers=\"examinationTableHeaders\"\n              :items=\"examinationTableItems\"\n              :mobile=\"smAndDown\"\n              :disable-sort=\"true\"\n              :hide-default-header=\"smAndDown\"\n              hide-default-footer\n              density=\"compact\"\n              class=\"bg-white w-100 border my-2 rounded\"\n            >\n              <!-- Head Section -->\n              <template\n                v-for=\"header in examinationTableHeaders\"\n                #[`header.${header.key}`]\n                :key=\"header.key\"\n              >\n                <div\n                  class=\"d-flex align-center font-weight-bold\"\n                  style=\"text-wrap-mode: nowrap\"\n                >\n                  <span>{{ header.title }}</span>\n                </div>\n              </template>\n\n              <!-- Body Section -->\n              <!-- Code -->\n              <template v-slot:[`item.code`]=\"{ item }\">\n                <div\n                  class=\"d-flex align-center ga-0\"\n                  :class=\"smAndDown ? 'justify-end' : 'justify-start'\"\n                >\n                  <span>{{ item.code }}</span>\n                </div>\n              </template>\n\n              <!-- Examination -->\n              <template v-slot:[`item.examinationName`]=\"{ item }\">\n                <div\n                  class=\"d-flex align-center ga-0\"\n                  :class=\"smAndDown ? 'justify-end' : 'justify-start'\"\n                >\n                  <span>{{ item.examinationName }}</span>\n                </div>\n              </template>\n            </v-data-table>\n\n            <!-- Select Performer -->\n            <v-select\n              :item-props=\"performerSelectProps\"\n              :items=\"performerSelectItems\"\n              prepend-inner-icon=\"mdi-hospital-box-outline\"\n              label=\"Изпълнител на направлението\"\n              control-variant=\"hidden\"\n              variant=\"outlined\"\n              placeholder=\"Изпълнител на направлението\"\n              density=\"compact\"\n              :hide-details=\"true\"\n              rounded=\"lg\"\n              class=\"mt-4\"\n            ></v-select>\n\n            <!-- Sample Date Input -->\n            <v-date-input\n              prepend-icon=\"\"\n              prepend-inner-icon=\"mdi-test-tube\"\n              label=\"Дата на материал\"\n              variant=\"outlined\"\n              density=\"compact\"\n              rounded=\"lg\"\n              :hide-details=\"true\"\n              class=\"mt-4\"\n            ></v-date-input>\n\n            <!-- Result Date Input -->\n            <v-date-input\n              prepend-icon=\"\"\n              prepend-inner-icon=\"mdi-file-document-arrow-right-outline\"\n              label=\"Дата на резултат\"\n              variant=\"outlined\"\n              density=\"compact\"\n              rounded=\"lg\"\n              :hide-details=\"true\"\n              class=\"mt-4\"\n            ></v-date-input>\n          </v-card-text>\n        </v-card>\n      </v-col>\n\n      <!-- Reference -->\n      <v-col cols=\"12\" sm=\"6\" style=\"height: fit-content\">\n        <v-card class=\"bg-white\" rounded=\"lg\" flat border>\n          <!-- Title -->\n          <v-card-title\n            class=\"d-flex bg-grey-lighten-5 justify-space-between align-center px-2 py-0\"\n          >\n            <!-- Import Checkbox -->\n            <v-checkbox\n              :hide-details=\"true\"\n              style=\"scale: 0.8\"\n              color=\"primary\"\n              tabindex=\"0\"\n              aria-label=\"Селектирайте направлението\"\n              v-tooltip:bottom=\"{\n                text: 'Селектирайте направлението',\n                openDelay: 700,\n              }\"\n            ></v-checkbox>\n\n            <!-- PID/HPH -->\n            <div class=\"d-flex align-center ga-1\">\n              <div class=\"text-subtitle-2\" id=\"copy-text\">\n                <b> HPH: 1234567890аж </b>\n              </div>\n\n              <!-- Copy Button -->\n              <div class=\"relative d-flex align-center\">\n                <v-btn\n                  icon=\"mdi-content-copy\"\n                  size=\"x-small\"\n                  rounded=\"circle\"\n                  variant=\"text\"\n                  color=\"\"\n                  @click=\"copyToClipboard\"\n                  tabindex=\"0\"\n                  aria-label=\"Кликнете, за да копирате в клипборда\"\n                  v-tooltip:bottom=\"{\n                    text: 'Кликнете, за да копирате в клипборда',\n                    openDelay: 700,\n                  }\"\n                >\n                </v-btn>\n\n                <!-- Tooltip that appears after copy action -->\n                <v-fade-transition>\n                  <div\n                    v-if=\"showSmallTooltip\"\n                    class=\"rounded-lg text-caption absolute ml-10 px-2\"\n                    style=\"position: absolute; background-color: #e0e0e0\"\n                  >\n                    Копирано\n                  </div>\n                </v-fade-transition>\n              </div>\n            </div>\n\n            <!-- Close Icon -->\n            <v-btn\n              icon=\"mdi-close\"\n              color=\"error\"\n              size=\"small\"\n              variant=\"text\"\n              aria-label=\"Затворете направлението\"\n              v-tooltip:bottom=\"{\n                text: 'Затворете направлението',\n                openDelay: 700,\n              }\"\n            ></v-btn>\n          </v-card-title>\n\n          <!-- Divider -->\n          <v-divider></v-divider>\n\n          <!-- Content -->\n          <v-card-text class=\"px-4 py-2\">\n            <!-- Patient -->\n            <v-hover>\n              <template #default=\"{ isHovering, props }\">\n                <div\n                  v-bind=\"props\"\n                  class=\"d-flex flex-wrap align-center ga-2 rounded pa-2\"\n                  :class=\"{ 'bg-grey-lighten-5': isHovering }\"\n                >\n                  <!-- Icon -->\n                  <v-icon icon=\"mdi-account-outline\" size=\"small\"></v-icon>\n\n                  <!-- Name -->\n                  <b>Велизар Петков Шилев</b>\n\n                  <!-- PID -->\n                  <div>1944024426</div>\n                </div>\n              </template>\n            </v-hover>\n\n            <!-- Date -->\n            <v-hover>\n              <template #default=\"{ isHovering, props }\">\n                <div\n                  v-bind=\"props\"\n                  class=\"d-flex flex-wrap align-center ga-2 rounded pa-2\"\n                  :class=\"{ 'bg-grey-lighten-5': isHovering }\"\n                >\n                  <!-- Icon -->\n                  <v-icon\n                    icon=\"mdi-calendar-month-outline\"\n                    size=\"small\"\n                  ></v-icon>\n\n                  <!-- Date -->\n                  <div>Изд. <b>09 апр 2025г.</b></div>\n\n                  <!-- List -->\n                  <div>(Амб. л-т <b>25099A0000F6</b>)</div>\n\n                  <!-- Type -->\n                  <div>вид <b>1</b></div>\n                </div>\n              </template>\n            </v-hover>\n\n            <!-- Location -->\n            <v-hover>\n              <template #default=\"{ isHovering, props }\">\n                <div\n                  v-bind=\"props\"\n                  class=\"d-flex flex-wrap align-center ga-2 rounded pa-2\"\n                  :class=\"{ 'bg-grey-lighten-5': isHovering }\"\n                >\n                  <!-- Icon -->\n                  <v-icon icon=\"mdi-map-marker-outline\" size=\"small\"></v-icon>\n\n                  <!-- Practise Location -->\n                  <div>Пловдив (<b>16</b>)</div>\n\n                  <!-- Region -->\n                  <div>Съединение (<b>15</b>)</div>\n                </div>\n              </template>\n            </v-hover>\n\n            <!-- Condition -->\n            <v-hover>\n              <template #default=\"{ isHovering, props }\">\n                <div\n                  v-bind=\"props\"\n                  class=\"d-flex flex-wrap align-center ga-2 rounded pa-2\"\n                  :class=\"{ 'bg-grey-lighten-5': isHovering }\"\n                >\n                  <!-- Icon -->\n                  <v-icon\n                    icon=\"mdi-clipboard-pulse-outline\"\n                    size=\"small\"\n                  ></v-icon>\n\n                  <!-- Patient's Condition -->\n                  <div>ZOO</div>\n                </div>\n              </template>\n            </v-hover>\n\n            <!-- Doctor -->\n            <v-hover>\n              <template #default=\"{ isHovering, props }\">\n                <div\n                  v-bind=\"props\"\n                  class=\"d-flex flex-wrap align-center ga-2 rounded pa-2\"\n                  :class=\"{ 'bg-grey-lighten-5': isHovering }\"\n                >\n                  <!-- Icon -->\n                  <v-icon icon=\"mdi-doctor\" size=\"small\"></v-icon>\n\n                  <!-- Doctor's Name -->\n                  <b>Тодор Николов</b>\n\n                  <!-- Doctor's Identifier -->\n                  <div>УИН: <b>1700003565</b></div>\n                </div>\n              </template>\n            </v-hover>\n\n            <!-- Specialty -->\n            <v-hover>\n              <template #default=\"{ isHovering, props }\">\n                <div\n                  v-bind=\"props\"\n                  class=\"d-flex flex-wrap align-center ga-2 rounded pa-2\"\n                  :class=\"{ 'bg-grey-lighten-5': isHovering }\"\n                >\n                  <!-- Icon -->\n                  <v-icon icon=\"mdi-stethoscope\" size=\"small\"></v-icon>\n\n                  <!-- Doctor's Specialty -->\n                  <div><b>06</b> (Вътрешни болести)</div>\n                </div>\n              </template>\n            </v-hover>\n\n            <!-- Doctor's Practise Location -->\n            <v-hover>\n              <template #default=\"{ isHovering, props }\">\n                <div\n                  v-bind=\"props\"\n                  class=\"d-flex flex-wrap align-center ga-2 rounded pa-2\"\n                  :class=\"{ 'bg-grey-lighten-5': isHovering }\"\n                >\n                  <!-- Icon -->\n                  <v-icon icon=\"mdi-hospital-building\" size=\"small\"></v-icon>\n\n                  <!-- Doctor's Practise -->\n                  <div>РЗИ код: <b>1622111277</b></div>\n                </div>\n              </template>\n            </v-hover>\n\n            <!-- Examination Table -->\n            <v-data-table\n              :headers=\"examinationTableHeaders\"\n              :items=\"examinationTableItems\"\n              :mobile=\"smAndDown\"\n              :disable-sort=\"true\"\n              :hide-default-header=\"smAndDown\"\n              hide-default-footer\n              density=\"compact\"\n              class=\"bg-white w-100 border my-2 rounded\"\n            >\n              <!-- Head Section -->\n              <template\n                v-for=\"header in examinationTableHeaders\"\n                #[`header.${header.key}`]\n                :key=\"header.key\"\n              >\n                <div\n                  class=\"d-flex align-center font-weight-bold\"\n                  style=\"text-wrap-mode: nowrap\"\n                >\n                  <span>{{ header.title }}</span>\n                </div>\n              </template>\n\n              <!-- Body Section -->\n              <!-- Code -->\n              <template v-slot:[`item.code`]=\"{ item }\">\n                <div\n                  class=\"d-flex align-center ga-0\"\n                  :class=\"smAndDown ? 'justify-end' : 'justify-start'\"\n                >\n                  <span>{{ item.code }}</span>\n                </div>\n              </template>\n\n              <!-- Examination -->\n              <template v-slot:[`item.examinationName`]=\"{ item }\">\n                <div\n                  class=\"d-flex align-center ga-0\"\n                  :class=\"smAndDown ? 'justify-end' : 'justify-start'\"\n                >\n                  <span>{{ item.examinationName }}</span>\n                </div>\n              </template>\n            </v-data-table>\n\n            <!-- Select Performer -->\n            <v-select\n              :item-props=\"performerSelectProps\"\n              :items=\"performerSelectItems\"\n              prepend-inner-icon=\"mdi-hospital-box-outline\"\n              label=\"Изпълнител на направлението\"\n              control-variant=\"hidden\"\n              variant=\"outlined\"\n              placeholder=\"Изпълнител на направлението\"\n              density=\"compact\"\n              :hide-details=\"true\"\n              rounded=\"lg\"\n              class=\"mt-4\"\n            ></v-select>\n\n            <!-- Sample Date Input -->\n            <v-date-input\n              prepend-icon=\"\"\n              prepend-inner-icon=\"mdi-test-tube\"\n              label=\"Дата на материал\"\n              variant=\"outlined\"\n              density=\"compact\"\n              rounded=\"lg\"\n              :hide-details=\"true\"\n              class=\"mt-4\"\n            ></v-date-input>\n\n            <!-- Result Date Input -->\n            <v-date-input\n              prepend-icon=\"\"\n              prepend-inner-icon=\"mdi-file-document-arrow-right-outline\"\n              label=\"Дата на резултат\"\n              variant=\"outlined\"\n              density=\"compact\"\n              rounded=\"lg\"\n              :hide-details=\"true\"\n              class=\"mt-4\"\n            ></v-date-input>\n          </v-card-text>\n        </v-card>\n      </v-col>\n    </v-row>\n  </v-container>\n</template>\n"],"names":["smAndDown","useDisplay","form","reactive","pid","hph","location","saleSchema","identifierType","ref","formRef","isLoading","locationItems","saleSchemaItems","showSmallTooltip","examinationTableItems","code","examinationName","examinationTableHeaders","key","title","align","performerSelectItems","name","department","pidValidationRule","v","test","hphValidationRule","handleSubmit","async","pidValid","value","_a","toString","_b","console","error","validateForm","Promise","resolve","setTimeout","log","copyToClipboard","textElement","document","getElementById","textToCopy","textContent","trim","navigator","clipboard","writeText","alert","then","catch","err","performerSelectProps","performer","subtitle","counter","computed","length","onMounted","useHead","link","rel","type","href","htmlAttrs","lang","meta","content"],"mappings":"4vCAWM,MAAAA,UAAEA,GAAcC,IAGhBC,EAAOC,EAAS,CACpBC,IAAK,KACLC,IAAK,KACLC,SAAU,KACVC,WAAY,OAIRC,EAAiBC,GAAa,GAG9BC,EAAUD,IAGVE,EAAYF,GAAI,GAGhBG,EAAgB,CACpB,aACA,UACA,QACA,UACA,SACA,WAIIC,EAAkB,CAAC,oBAAqB,iBAAkB,gBAG7CJ,EAAqB,IAClC,MAAAK,EAAmBL,GAAI,GAGvBM,EAAwB,CAC5B,CACEC,KAAM,SACNC,gBAAiB,4BAIfC,EAA0B,CAC9B,CAAEC,IAAK,OAAQC,MAAO,MAAOC,MAAO,SACpC,CAAEF,IAAK,kBAAmBC,MAAO,aAAcC,MAAO,UAIlDC,EAAuB,CAC3B,CAAEC,KAAM,aAAcC,WAAY,eAClC,CAAED,KAAM,cAAeC,WAAY,cACnC,CAAED,KAAM,eAAgBC,WAAY,aACpC,CAAED,KAAM,gBAAiBC,WAAY,aACrC,CAAED,KAAM,cAAeC,WAAY,gBACnC,CAAED,KAAM,gBAAiBC,WAAY,aAQjCC,EAAqBC,GAEpBA,IADS,WAGIC,KAAKD,IACd,2CAFA,iCAQLE,GAAqBF,GAEpBA,IADS,oBAGIC,KAAKD,IACd,yEAFA,6BAyBLG,GAAeC,UAbA,cACnB,MAAMC,EAAWvB,EAAewB,OACsB,IAAlDP,GAAkB,OAAAQ,EAAA/B,EAAKE,UAAK,EAAA6B,EAAAC,aAAc,KACQ,IAAlDN,IAAkB,OAAAO,EAAAjC,EAAKG,UAAK,EAAA8B,EAAAD,aAAc,IAMvC,OAJFH,GACHK,QAAQC,MAAM,mBAGTN,CAAA,EAKHO,IAEF3B,EAAUqB,OAAQ,QAGZ,IAAIO,SAASC,GAAYC,WAAWD,EAAS,OAEnDJ,QAAQM,IAAI,kBAAmB,IAC1BxC,EACHM,eAAgBA,EAAewB,MAAQ,MAAQ,QAIjDrB,EAAUqB,OAAQ,GAElBI,QAAQM,IAAI,0BAAyB,EAOnCC,GAAkB,aAChB,MAAAC,EAAcC,SAASC,eAAe,aAE5C,GAAIF,EAAa,CACf,MAAMG,GAAa,OAAAd,EAAAW,EAAYI,kBAAZ,EAAAf,EAAyBgB,SAAU,GAElD,KAAC,OAAAd,EAAAe,UAAUC,gBAAV,EAAAhB,EAAqBiB,WAGxB,OAFAhB,QAAQC,MAAM,wDACdgB,MAAM,6CAIRH,UAAUC,UACPC,UAAUL,GACVO,MAAK,KAEJxC,EAAiBkB,OAAQ,EAGzBS,YAAW,KACT3B,EAAiBkB,OAAQ,CAAA,GACxB,IAAI,IAERuB,OAAOC,IACEpB,QAAAC,MAAM,oCAAqCmB,GACnDH,MAAM,uCAAsC,GAC7C,MAEHjB,QAAQC,MAAM,0BAAyB,EAIrCoB,GAAwBC,IAIrB,CACLtC,MAAOsC,EAAUnC,KACjBoC,SAAUD,EAAUlC,aASlBoC,GAAUC,GAAS,IAER3D,EAAKE,IAAMF,EAAKE,IAAI8B,WAAW4B,OAAS,WASzDC,GAAU,KACR7D,EAAKI,SAAWJ,EAAKI,UAAYM,EAAc,GAC/CV,EAAKK,WAAaL,EAAKK,YAAcM,EAAgB,EAAC,IAQhDmD,EAAA,CACNC,KAAM,CAAC,CAAEC,IAAK,OAAQC,KAAM,gBAAiBC,KAAM,KACnDhD,MAAO,0BACPiD,UAAW,CACTC,KAAM,MAERC,KAAM,CACJ,CACEhD,KAAM,cACNiD,QACE,mMAEJ,CACEjD,KAAM,WACNiD,QAAS,iEAEX,CAAEjD,KAAM,SAAUiD,QAAS,6BAC3B,CAAEjD,KAAM,WAAYiD,QAAS"}