import{defineComponent as t,inject as e,computed as o,unref as a,ref as r,h as s,Suspense as n,nextTick as u,mergeProps as l,provide as i}from"/Users/alexandarvalov/Documents/GitHub/nzis-import-app/node_modules/vue/index.mjs";import{useRoute as m}from"../composables/router.mjs";import{useNuxtApp as p}from"../nuxt.mjs";import{_wrapInTransition as d}from"./utils.mjs";import{PageRouteSymbol as f,LayoutMetaSymbol as v}from"./injections.mjs";import{useRoute as y}from"vue-router";import _ from"../../../../../_virtual/virtual_nuxt__Users_alexandarvalov_Documents_GitHub_nzis-import-app_.nuxt_layouts.mjs";import{appLayoutTransition as c}from"../../../../../_virtual/virtual_nuxt__Users_alexandarvalov_Documents_GitHub_nzis-import-app_.nuxt_nuxt.config.mjs";const x=t({name:"LayoutLoader",inheritAttrs:!1,props:{name:String,layoutProps:Object},setup:(t,e)=>()=>s(_[t.name],t.layoutProps,e.slots)}),b=t({name:"NuxtLayout",inheritAttrs:!1,props:{name:{type:[String,Boolean,Object],default:null},fallback:{type:[String,Object],default:null}},setup(t,i){const v=p(),x=e(f),b=x===m()?y():x,P=o((()=>{let e=a(t.name)??b.meta.layout??"default";return e&&!(e in _)&&t.fallback&&(e=a(t.fallback)),e})),h=r();i.expose({layoutRef:h});const g=v.deferHydration();return()=>{const e=P.value&&P.value in _,o=b.meta.layoutTransition??c;return d(e&&o,{default:()=>s(n,{suspensible:!0,onResolve:()=>{u(g)}},{default:()=>s(j,{layoutProps:l(i.attrs,{ref:h}),key:P.value||void 0,name:P.value,shouldProvide:!t.name,hasTransition:!!o},i.slots)})}).default()}}}),j=t({name:"NuxtLayoutProvider",inheritAttrs:!1,props:{name:{type:[String,Boolean]},layoutProps:{type:Object},hasTransition:{type:Boolean},shouldProvide:{type:Boolean}},setup(t,e){const o=t.name;return t.shouldProvide&&i(v,{isCurrent:t=>o===(t.meta.layout??"default")}),()=>{var a,r;return!o||"string"==typeof o&&!(o in _)?null==(r=(a=e.slots).default)?void 0:r.call(a):s(x,{key:o,layoutProps:t.layoutProps,name:o},e.slots)}}});export{b as default};
