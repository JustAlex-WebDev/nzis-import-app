import{useNuxtApp as o}from"../../app/nuxt.mjs";import{isChangingPage as t}from"../../app/components/utils.mjs";import{useRouter as e}from"../../app/composables/router.mjs";import{appPageTransition as r}from"../../../../../_virtual/virtual_nuxt__Users_alexandarvalov_Documents_GitHub_nzis-import-app_.nuxt_nuxt.config.mjs";const a={scrollBehavior(a,s,i){var p;const l=o(),u=(null==(p=e().options)?void 0:p.scrollBehaviorType)??"auto";let m=i||void 0;const h="function"==typeof a.meta.scrollToTop?a.meta.scrollToTop(a,s):a.meta.scrollToTop;if(!m&&s&&a&&!1!==h&&t(a,s)&&(m={left:0,top:0}),a.path===s.path)return s.hash&&!a.hash?{left:0,top:0}:!!a.hash&&{el:a.hash,top:n(a.hash),behavior:u};const c=o=>!!(o.meta.pageTransition??r),f=c(s)&&c(a)?"page:transition:finish":"page:loading:end";return new Promise((o=>{l.hooks.hookOnce(f,(()=>{requestAnimationFrame((()=>o(function(o,t,e){if(e)return e;if(o.hash)return{el:o.hash,top:n(o.hash),behavior:t};return{left:0,top:0,behavior:t}}(a,"instant",m))))}))}))}};function n(o){try{const t=(void 0).querySelector(o);if(t)return(Number.parseFloat(getComputedStyle(t).scrollMarginTop)||0)+(Number.parseFloat(getComputedStyle((void 0).documentElement).scrollPaddingTop)||0)}catch{}return 0}export{a as default};
