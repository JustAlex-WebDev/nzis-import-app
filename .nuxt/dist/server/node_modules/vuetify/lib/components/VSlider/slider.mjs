import{makeElevationProps as e}from"../../composables/elevation.mjs";import{useRtl as t}from"../../composables/locale.mjs";import{makeRoundedProps as o}from"../../composables/rounded.mjs";import{computed as a,toRef as l,shallowRef as r,ref as i,provide as n,nextTick as u}from"/Users/alexandarvalov/Documents/GitHub/nzis-import-app/node_modules/vue/index.mjs";import{getDecimals as s,createRange as v,clamp as c}from"../../util/helpers.mjs";import{propsFactory as d}from"../../util/propsFactory.mjs";const m=Symbol.for("vuetify:v-slider");function p(e,t,o){const a="vertical"===o,l=t.getBoundingClientRect(),r="touches"in e?e.touches[0]:e;return a?r.clientY-(l.top+l.height/2):r.clientX-(l.left+l.width/2)}const h=d({disabled:{type:Boolean,default:null},error:Boolean,readonly:{type:Boolean,default:null},max:{type:[Number,String],default:100},min:{type:[Number,String],default:0},step:{type:[Number,String],default:0},thumbColor:String,thumbLabel:{type:[Boolean,String],default:void 0,validator:e=>"boolean"==typeof e||"always"===e},thumbSize:{type:[Number,String],default:20},showTicks:{type:[Boolean,String],default:!1,validator:e=>"boolean"==typeof e||"always"===e},ticks:{type:[Array,Object]},tickSize:{type:[Number,String],default:2},color:String,trackColor:String,trackFillColor:String,trackSize:{type:[Number,String],default:4},direction:{type:String,default:"horizontal",validator:e=>["vertical","horizontal"].includes(e)},reverse:Boolean,...o(),...e({elevation:2}),ripple:{type:Boolean,default:!0}},"Slider"),f=e=>{const t=a((()=>parseFloat(e.min))),o=a((()=>parseFloat(e.max))),l=a((()=>Number(e.step)>0?parseFloat(e.step):0)),r=a((()=>Math.max(s(l.value),s(t.value))));return{min:t,max:o,step:l,decimals:r,roundValue:function(e){if(e=parseFloat(e),l.value<=0)return e;const a=c(e,t.value,o.value),i=t.value%l.value,n=Math.round((a-i)/l.value)*l.value+i;return parseFloat(Math.min(n,o.value).toFixed(r.value))}}},b=e=>{let{props:o,steps:s,onSliderStart:d,onSliderMove:h,onSliderEnd:f,getActiveThumb:b}=e;const{isRtl:S}=t(),g=l(o,"reverse"),k=a((()=>"vertical"===o.direction)),y=a((()=>k.value!==g.value)),{min:F,max:x,step:z,decimals:C,roundValue:L}=s,T=a((()=>parseInt(o.thumbSize,10))),E=a((()=>parseInt(o.tickSize,10))),B=a((()=>parseInt(o.trackSize,10))),M=a((()=>(x.value-F.value)/z.value)),N=l(o,"disabled"),j=a((()=>o.error||o.disabled?void 0:o.thumbColor??o.color)),w=a((()=>o.error||o.disabled?void 0:o.trackColor??o.color)),R=a((()=>o.error||o.disabled?void 0:o.trackFillColor??o.color)),A=r(!1),D=r(0),I=i(),O=i();function V(e){var t;const a=null==(t=I.value)?void 0:t.$el;if(!a)return;const l="vertical"===o.direction,r=l?"top":"left",i=l?"height":"width",n=l?"clientY":"clientX",{[r]:u,[i]:s}=a.getBoundingClientRect(),v=function(e,t){return"touches"in e&&e.touches.length?e.touches[0][t]:"changedTouches"in e&&e.changedTouches.length?e.changedTouches[0][t]:e[t]}(e,n);let c=Math.min(Math.max((v-u-D.value)/s,0),1)||0;return(l?y.value:y.value!==S.value)&&(c=1-c),L(F.value+c*(x.value-F.value))}const P=e=>{const t=V(e);null!=t&&f({value:t}),A.value=!1,D.value=0},X=e=>{const t=V(e);O.value=b(e),O.value&&(A.value=!0,O.value.contains(e.target)?D.value=p(e,O.value,o.direction):(D.value=0,null!=t&&h({value:t})),null!=t&&d({value:t}),u((()=>{var e;return null==(e=O.value)?void 0:e.focus()})))},Y={passive:!0,capture:!0};function G(e){const t=V(e);null!=t&&h({value:t})}function H(e){e.stopPropagation(),e.preventDefault(),P(e),(void 0).removeEventListener("mousemove",G,Y),(void 0).removeEventListener("mouseup",H)}function U(e){var t;P(e),(void 0).removeEventListener("touchmove",G,Y),null==(t=e.target)||t.removeEventListener("touchend",U)}const $=e=>{const t=(e-F.value)/(x.value-F.value)*100;return c(isNaN(t)?0:t,0,100)},_=l(o,"showTicks"),q=a((()=>_.value?o.ticks?Array.isArray(o.ticks)?o.ticks.map((e=>({value:e,position:$(e),label:e.toString()}))):Object.keys(o.ticks).map((e=>({value:parseFloat(e),position:$(parseFloat(e)),label:o.ticks[e]}))):M.value!==1/0?v(M.value+1).map((e=>{const t=F.value+e*z.value;return{value:t,position:$(t)}})):[]:[])),J=a((()=>q.value.some((e=>{let{label:t}=e;return!!t})))),K={activeThumbRef:O,color:l(o,"color"),decimals:C,disabled:N,direction:l(o,"direction"),elevation:l(o,"elevation"),hasLabels:J,isReversed:g,indexFromEnd:y,min:F,max:x,mousePressed:A,numTicks:M,onSliderMousedown:function(e){0===e.button&&(e.preventDefault(),X(e),(void 0).addEventListener("mousemove",G,Y),(void 0).addEventListener("mouseup",H,{passive:!1}))},onSliderTouchstart:function(e){var t;X(e),(void 0).addEventListener("touchmove",G,Y),null==(t=e.target)||t.addEventListener("touchend",U,{passive:!1})},parsedTicks:q,parseMouseMove:V,position:$,readonly:l(o,"readonly"),rounded:l(o,"rounded"),roundValue:L,showTicks:_,startOffset:D,step:z,thumbSize:T,thumbColor:j,thumbLabel:l(o,"thumbLabel"),ticks:l(o,"ticks"),tickSize:E,trackColor:w,trackContainerRef:I,trackFillColor:R,trackSize:B,vertical:k};return n(m,K),K};export{m as VSliderSymbol,p as getOffset,h as makeSliderProps,b as useSlider,f as useSteps};
