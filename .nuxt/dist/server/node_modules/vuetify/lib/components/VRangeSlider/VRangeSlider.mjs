import{ref as e,computed as l,createVNode as a,mergeProps as u,Fragment as o}from"/Users/alexandarvalov/Documents/GitHub/nzis-import-app/node_modules/vue/index.mjs";/* empty css                     */import{makeVInputProps as r,VInput as v}from"../VInput/VInput.mjs";import{useSteps as s,useSlider as i,makeSliderProps as d,getOffset as t}from"../VSlider/slider.mjs";import{VSliderThumb as n}from"../VSlider/VSliderThumb.mjs";import{VSliderTrack as m}from"../VSlider/VSliderTrack.mjs";import{useFocus as p,makeFocusProps as c}from"../../composables/focus.mjs";import{useRtl as b}from"../../composables/locale.mjs";import{useProxiedModel as f}from"../../composables/proxiedModel.mjs";import{VLabel as V}from"../VLabel/VLabel.mjs";import{genericComponent as $}from"../../util/defineComponent.mjs";import{propsFactory as h}from"../../util/propsFactory.mjs";import{useRender as S}from"../../util/useRender.mjs";const j=h({...c(),...r(),...d(),strict:Boolean,modelValue:{type:Array,default:()=>[0,0]}},"VRangeSlider"),y=$()({name:"VRangeSlider",props:j(),emits:{"update:focused":e=>!0,"update:modelValue":e=>!0,end:e=>!0,start:e=>!0},setup(r,d){let{slots:c,emit:$}=d;const h=e(),j=e(),y=e(),{rtlClasses:x}=b();const g=s(r),M=f(r,"modelValue",void 0,(e=>(null==e?void 0:e.length)?e.map((e=>g.roundValue(e))):[0,0])),{activeThumbRef:T,hasLabels:_,max:k,min:R,mousePressed:F,onSliderMousedown:B,onSliderTouchstart:C,position:I,trackContainerRef:L,readonly:P}=i({props:r,steps:g,onSliderStart:()=>{$("start",M.value)},onSliderEnd:e=>{var l;let{value:a}=e;const u=T.value===(null==(l=h.value)?void 0:l.$el)?[a,M.value[1]]:[M.value[0],a];!r.strict&&u[0]<u[1]&&(M.value=u),$("end",M.value)},onSliderMove:e=>{var l,a,u,o;let{value:v}=e;const[s,i]=M.value;r.strict||s!==i||s===R.value||(T.value=v>s?null==(l=j.value)?void 0:l.$el:null==(a=h.value)?void 0:a.$el,null==(u=T.value)||u.focus()),T.value===(null==(o=h.value)?void 0:o.$el)?M.value=[Math.min(v,i),i]:M.value=[s,Math.max(s,v)]},getActiveThumb:function(e){if(!h.value||!j.value)return;const l=t(e,h.value.$el,r.direction),a=t(e,j.value.$el,r.direction),u=Math.abs(l),o=Math.abs(a);return u<o||u===o&&l<0?h.value.$el:j.value.$el}}),{isFocused:U,focus:w,blur:A}=p(r),z=l((()=>I(M.value[0]))),D=l((()=>I(M.value[1])));return S((()=>{const e=v.filterProps(r),l=!!(r.label||c.label||c.prepend);return a(v,u({class:["v-slider","v-range-slider",{"v-slider--has-labels":!!c["tick-label"]||_.value,"v-slider--focused":U.value,"v-slider--pressed":F.value,"v-slider--disabled":r.disabled},x.value,r.class],style:r.style,ref:y},e,{focused:U.value}),{...c,prepend:l?e=>{var l,u;return a(o,null,[(null==(l=c.label)?void 0:l.call(c,e))??(r.label?a(V,{class:"v-slider__label",text:r.label},null):void 0),null==(u=c.prepend)?void 0:u.call(c,e)])}:void 0,default:e=>{var l,u;let{id:o,messagesId:v}=e;return a("div",{class:"v-slider__container",onMousedown:P.value?void 0:B,onTouchstartPassive:P.value?void 0:C},[a("input",{id:`${o.value}_start`,name:r.name||o.value,disabled:!!r.disabled,readonly:!!r.readonly,tabindex:"-1",value:M.value[0]},null),a("input",{id:`${o.value}_stop`,name:r.name||o.value,disabled:!!r.disabled,readonly:!!r.readonly,tabindex:"-1",value:M.value[1]},null),a(m,{ref:L,start:z.value,stop:D.value},{"tick-label":c["tick-label"]}),a(n,{ref:h,"aria-describedby":v.value,focused:U&&T.value===(null==(l=h.value)?void 0:l.$el),modelValue:M.value[0],"onUpdate:modelValue":e=>M.value=[e,M.value[1]],onFocus:e=>{var l,a,u,o;w(),T.value=null==(l=h.value)?void 0:l.$el,k.value!==R.value&&M.value[0]===M.value[1]&&M.value[1]===R.value&&e.relatedTarget!==(null==(a=j.value)?void 0:a.$el)&&(null==(u=h.value)||u.$el.blur(),null==(o=j.value)||o.$el.focus())},onBlur:()=>{A(),T.value=void 0},min:R.value,max:M.value[1],position:z.value,ripple:r.ripple},{"thumb-label":c["thumb-label"]}),a(n,{ref:j,"aria-describedby":v.value,focused:U&&T.value===(null==(u=j.value)?void 0:u.$el),modelValue:M.value[1],"onUpdate:modelValue":e=>M.value=[M.value[0],e],onFocus:e=>{var l,a,u,o;w(),T.value=null==(l=j.value)?void 0:l.$el,k.value!==R.value&&M.value[0]===M.value[1]&&M.value[0]===k.value&&e.relatedTarget!==(null==(a=h.value)?void 0:a.$el)&&(null==(u=j.value)||u.$el.blur(),null==(o=h.value)||o.$el.focus())},onBlur:()=>{A(),T.value=void 0},min:M.value[0],max:k.value,position:D.value,ripple:r.ripple},{"thumb-label":c["thumb-label"]})])}})})),{}}});export{y as VRangeSlider,j as makeVRangeSliderProps};
