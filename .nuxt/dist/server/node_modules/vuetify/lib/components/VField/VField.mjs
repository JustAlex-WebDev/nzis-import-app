import{computed as e,useId as l,ref as o,toRef as a,watch as r,createVNode as i,mergeProps as n,withDirectives as t,vShow as s,Fragment as d}from"/Users/alexandarvalov/Documents/GitHub/nzis-import-app/node_modules/vue/index.mjs";/* empty css           */import{VFieldLabel as u}from"./VFieldLabel.mjs";import{VExpandXTransition as v}from"../transitions/index.mjs";import{useInputIcon as p}from"../VInput/InputIcon.mjs";import{useBackgroundColor as c,useTextColor as f}from"../../composables/color.mjs";import{makeComponentProps as m}from"../../composables/component.mjs";import{makeFocusProps as b,useFocus as y}from"../../composables/focus.mjs";import{IconValue as g}from"../../composables/icons.mjs";import{useLoader as C,makeLoaderProps as _,LoaderSlot as I}from"../../composables/loader.mjs";import{useRtl as j}from"../../composables/locale.mjs";import{useRounded as h,makeRoundedProps as k}from"../../composables/rounded.mjs";import{provideTheme as B,makeThemeProps as x}from"../../composables/theme.mjs";import{VDefaultsProvider as F}from"../VDefaultsProvider/VDefaultsProvider.mjs";import{genericComponent as S}from"../../util/defineComponent.mjs";import{propsFactory as V}from"../../util/propsFactory.mjs";import{nullifyTransforms as $,animate as w}from"../../util/animation.mjs";import{convertToUnit as P,EventProp as D}from"../../util/helpers.mjs";import{useRender as A}from"../../util/useRender.mjs";import{standardEasing as L}from"../../util/easing.mjs";const R=["underlined","outlined","filled","solo","solo-inverted","solo-filled","plain"],M=V({appendInnerIcon:g,bgColor:String,clearable:Boolean,clearIcon:{type:g,default:"$clear"},active:Boolean,centerAffix:{type:Boolean,default:void 0},color:String,baseColor:String,dirty:Boolean,disabled:{type:Boolean,default:null},glow:Boolean,error:Boolean,flat:Boolean,iconColor:[Boolean,String],label:String,persistentClear:Boolean,prependInnerIcon:g,reverse:Boolean,singleLine:Boolean,variant:{type:String,default:"filled",validator:e=>R.includes(e)},"onClick:clear":D(),"onClick:appendInner":D(),"onClick:prependInner":D(),...m(),..._(),...k(),...x()},"VField"),q=S()({name:"VField",inheritAttrs:!1,props:{id:String,...b(),...M()},emits:{"update:focused":e=>!0,"update:modelValue":e=>!0},setup(m,b){let{attrs:g,emit:_,slots:k}=b;const{themeClasses:x}=B(m),{loaderClasses:S}=C(m),{focusClasses:V,isFocused:D,focus:R,blur:M}=y(m),{InputIcon:q}=p(m),{roundedClasses:z}=h(m),{rtlClasses:E}=j(),G=e((()=>m.dirty||m.active)),H=e((()=>!(!m.label&&!k.label))),U=e((()=>!m.singleLine&&H.value)),W=l(),J=e((()=>m.id||`input-${W}`)),K=e((()=>`${J.value}-messages`)),N=o(),O=o(),Q=o(),T=e((()=>["plain","underlined"].includes(m.variant))),X=e((()=>m.error||m.disabled?void 0:G.value&&D.value?m.color:m.baseColor)),Y=e((()=>{if(m.iconColor&&(!m.glow||D.value))return!0===m.iconColor?X.value:m.iconColor})),{backgroundColorClasses:Z,backgroundColorStyles:ee}=c(a(m,"bgColor")),{textColorClasses:le,textColorStyles:oe}=f(X);r(G,(e=>{if(U.value){const l=N.value.$el,o=O.value.$el;requestAnimationFrame((()=>{const a=$(l),r=o.getBoundingClientRect(),i=r.x-a.x,n=r.y-a.y-(a.height/2-r.height/2),t=r.width/.75,s=Math.abs(t-a.width)>1?{maxWidth:P(t)}:void 0,d=getComputedStyle(l),u=getComputedStyle(o),v=1e3*parseFloat(d.transitionDuration)||150,p=parseFloat(u.getPropertyValue("--v-field-label-scale")),c=u.getPropertyValue("color");l.style.visibility="visible",o.style.visibility="hidden",w(l,{transform:`translate(${i}px, ${n}px) scale(${p})`,color:c,...s},{duration:v,easing:L,direction:e?"normal":"reverse"}).finished.then((()=>{l.style.removeProperty("visibility"),o.style.removeProperty("visibility")}))}))}}),{flush:"post"});const ae=e((()=>({isActive:G,isFocused:D,controlRef:Q,blur:M,focus:R})));function re(e){e.target!==(void 0).activeElement&&e.preventDefault()}return A((()=>{var e,l,o;const a="outlined"===m.variant,r=!(!k["prepend-inner"]&&!m.prependInnerIcon),p=!(!m.clearable&&!k.clear||m.disabled),c=!!(k["append-inner"]||m.appendInnerIcon||p),f=()=>k.label?k.label({...ae.value,label:m.label,props:{for:J.value}}):m.label;return i("div",n({class:["v-field",{"v-field--active":G.value,"v-field--appended":c,"v-field--center-affix":m.centerAffix??!T.value,"v-field--disabled":m.disabled,"v-field--dirty":m.dirty,"v-field--error":m.error,"v-field--glow":m.glow,"v-field--flat":m.flat,"v-field--has-background":!!m.bgColor,"v-field--persistent-clear":m.persistentClear,"v-field--prepended":r,"v-field--reverse":m.reverse,"v-field--single-line":m.singleLine,"v-field--no-label":!f(),[`v-field--variant-${m.variant}`]:!0},x.value,Z.value,V.value,S.value,z.value,E.value,m.class],style:[ee.value,m.style],onClick:re},g),[i("div",{class:"v-field__overlay"},null),i(I,{name:"v-field",active:!!m.loading,color:m.error?"error":"string"==typeof m.loading?m.loading:m.color},{default:k.loader}),r&&i("div",{key:"prepend",class:"v-field__prepend-inner"},[m.prependInnerIcon&&i(q,{key:"prepend-icon",name:"prependInner",color:Y.value},null),null==(e=k["prepend-inner"])?void 0:e.call(k,ae.value)]),i("div",{class:"v-field__field","data-no-activator":""},[["filled","solo","solo-inverted","solo-filled"].includes(m.variant)&&U.value&&i(u,{key:"floating-label",ref:O,class:[le.value],floating:!0,for:J.value,style:oe.value},{default:()=>[f()]}),H.value&&i(u,{key:"label",ref:N,for:J.value},{default:()=>[f()]}),(null==(l=k.default)?void 0:l.call(k,{...ae.value,props:{id:J.value,class:"v-field__input","aria-describedby":K.value},focus:R,blur:M}))??i("div",{id:J.value,class:"v-field__input","aria-describedby":K.value},null)]),p&&i(v,{key:"clear"},{default:()=>[t(i("div",{class:"v-field__clearable",onMousedown:e=>{e.preventDefault(),e.stopPropagation()}},[i(F,{defaults:{VIcon:{icon:m.clearIcon}}},{default:()=>[k.clear?k.clear({...ae.value,props:{onFocus:R,onBlur:M,onClick:m["onClick:clear"]}}):i(q,{name:"clear",onFocus:R,onBlur:M},null)]})]),[[s,m.dirty]])]}),c&&i("div",{key:"append",class:"v-field__append-inner"},[null==(o=k["append-inner"])?void 0:o.call(k,ae.value),m.appendInnerIcon&&i(q,{key:"append-icon",name:"appendInner",color:Y.value},null)]),i("div",{class:["v-field__outline",le.value],style:oe.value},[a&&i(d,null,[i("div",{class:"v-field__outline__start"},null),U.value&&i("div",{class:"v-field__outline__notch"},[i(u,{ref:O,floating:!0,for:J.value},{default:()=>[f()]})]),i("div",{class:"v-field__outline__end"},null)]),T.value&&U.value&&i(u,{ref:O,floating:!0,for:J.value},{default:()=>[f()]})])])})),{controlRef:Q,fieldIconColor:Y}}});export{q as VField,M as makeVFieldProps};
