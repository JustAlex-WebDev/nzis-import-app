import{useId as e,shallowRef as l,ref as o,computed as a,inject as r,createVNode as t,mergeProps as s,withDirectives as u,Fragment as n,resolveDirective as i,nextTick as c}from"/Users/alexandarvalov/Documents/GitHub/nzis-import-app/node_modules/vue/index.mjs";/* empty css                      */import{makeSelectionControlGroupProps as d,VSelectionControlGroupSymbol as v}from"../VSelectionControlGroup/VSelectionControlGroup.mjs";import{useTextColor as p,useBackgroundColor as m}from"../../composables/color.mjs";import{makeComponentProps as C}from"../../composables/component.mjs";import{useDensity as b}from"../../composables/density.mjs";import{useProxiedModel as f}from"../../composables/proxiedModel.mjs";import{Ripple as y}from"../../directives/ripple/index.mjs";import{wrapInArray as V,filterInputAttrs as g,matchesSelector as k}from"../../util/helpers.mjs";import{VIcon as S}from"../VIcon/VIcon.mjs";import{VLabel as j}from"../VLabel/VLabel.mjs";import{genericComponent as x}from"../../util/defineComponent.mjs";import{propsFactory as h}from"../../util/propsFactory.mjs";import{useRender as F}from"../../util/useRender.mjs";const I=h({label:String,baseColor:String,trueValue:null,falseValue:null,value:null,...C(),...d()},"VSelectionControl");function _(e){const l=r(v,void 0),{densityClasses:o}=b(e),t=f(e,"modelValue"),s=a((()=>void 0!==e.trueValue?e.trueValue:void 0===e.value||e.value)),u=a((()=>void 0!==e.falseValue&&e.falseValue)),n=a((()=>!!e.multiple||null==e.multiple&&Array.isArray(t.value))),i=a({get(){const o=l?l.modelValue.value:t.value;return n.value?V(o).some((l=>e.valueComparator(l,s.value))):e.valueComparator(o,s.value)},set(o){if(e.readonly)return;const a=o?s.value:u.value;let r=a;n.value&&(r=o?[...V(t.value),a]:V(t.value).filter((l=>!e.valueComparator(l,s.value)))),l?l.modelValue.value=r:t.value=r}}),{textColorClasses:c,textColorStyles:d}=p(a((()=>{if(!e.error&&!e.disabled)return i.value?e.color:e.baseColor}))),{backgroundColorClasses:C,backgroundColorStyles:y}=m(a((()=>!i.value||e.error||e.disabled?e.baseColor:e.color))),g=a((()=>i.value?e.trueIcon:e.falseIcon));return{group:l,densityClasses:o,trueValue:s,falseValue:u,model:i,textColorClasses:c,textColorStyles:d,backgroundColorClasses:C,backgroundColorStyles:y,icon:g}}const A=x()({name:"VSelectionControl",directives:{Ripple:y},inheritAttrs:!1,props:I(),emits:{"update:modelValue":e=>!0},setup(r,d){let{attrs:v,slots:p}=d;const{group:m,densityClasses:C,icon:b,model:f,textColorClasses:y,textColorStyles:V,backgroundColorClasses:x,backgroundColorStyles:h,trueValue:I}=_(r),A=e(),G=l(!1),U=l(!1),B=o(),L=a((()=>r.id||`input-${A}`)),R=a((()=>!r.disabled&&!r.readonly));function w(e){R.value&&(G.value=!0,!1!==k(e.target)&&(U.value=!0))}function z(){G.value=!1,U.value=!1}function D(e){e.stopPropagation()}function H(e){R.value?(r.readonly&&m&&c((()=>m.forceUpdate())),f.value=e.target.checked):B.value&&(B.value.checked=f.value)}return null==m||m.onForceUpdate((()=>{B.value&&(B.value.checked=f.value)})),F((()=>{var e,l;const o=p.label?p.label({label:r.label,props:{for:L.value}}):r.label,[a,c]=g(v),d=t("input",s({ref:B,checked:f.value,disabled:!!r.disabled,id:L.value,onBlur:z,onFocus:w,onInput:H,"aria-disabled":!!r.disabled,"aria-label":r.label,type:r.type,value:I.value,name:r.name,"aria-checked":"checkbox"===r.type?f.value:void 0},c),null);return t("div",s({class:["v-selection-control",{"v-selection-control--dirty":f.value,"v-selection-control--disabled":r.disabled,"v-selection-control--error":r.error,"v-selection-control--focused":G.value,"v-selection-control--focus-visible":U.value,"v-selection-control--inline":r.inline},C.value,r.class]},a,{style:r.style}),[t("div",{class:["v-selection-control__wrapper",y.value],style:V.value},[null==(e=p.default)?void 0:e.call(p,{backgroundColorClasses:x,backgroundColorStyles:h}),u(t("div",{class:["v-selection-control__input"]},[(null==(l=p.input)?void 0:l.call(p,{model:f,textColorClasses:y,textColorStyles:V,backgroundColorClasses:x,backgroundColorStyles:h,inputNode:d,icon:b.value,props:{onFocus:w,onBlur:z,id:L.value}}))??t(n,null,[b.value&&t(S,{key:"icon",icon:b.value},null),d])]),[[i("ripple"),r.ripple&&[!r.disabled&&!r.readonly,null,["center","circle"]]]])]),o&&t(j,{for:L.value,onClick:D},{default:()=>[o]})])})),{isFocused:G,input:B}}});export{A as VSelectionControl,I as makeVSelectionControlProps,_ as useSelectionControl};
