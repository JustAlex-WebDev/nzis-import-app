import{createVNode as t,Transition as e,mergeProps as i}from"/Users/alexandarvalov/Documents/GitHub/nzis-import-app/node_modules/vue/index.mjs";import{getTargetBox as o}from"../../util/box.mjs";import{animate as n,nullifyTransforms as r}from"../../util/animation.mjs";import{acceleratedEasing as s,standardEasing as a,deceleratedEasing as p}from"../../util/easing.mjs";import{genericComponent as l}from"../../util/defineComponent.mjs";import{propsFactory as m}from"../../util/propsFactory.mjs";const h=m({target:[Object,Array]},"v-dialog-transition"),d=l()({name:"VDialogTransition",props:h(),setup(o,r){let{slots:l}=r;const m={onBeforeEnter(t){t.style.pointerEvents="none",t.style.visibility="hidden"},async onEnter(t,e){var i;await new Promise((t=>requestAnimationFrame(t))),await new Promise((t=>requestAnimationFrame(t))),t.style.visibility="";const{x:r,y:s,sx:l,sy:m,speed:h}=y(o.target,t),d=n(t,[{transform:`translate(${r}px, ${s}px) scale(${l}, ${m})`,opacity:0},{}],{duration:225*h,easing:p});null==(i=c(t))||i.forEach((t=>{n(t,[{opacity:0},{opacity:0,offset:.33},{}],{duration:450*h,easing:a})})),d.finished.then((()=>e()))},onAfterEnter(t){t.style.removeProperty("pointer-events")},onBeforeLeave(t){t.style.pointerEvents="none"},async onLeave(t,e){var i;await new Promise((t=>requestAnimationFrame(t)));const{x:r,y:p,sx:l,sy:m,speed:h}=y(o.target,t);n(t,[{},{transform:`translate(${r}px, ${p}px) scale(${l}, ${m})`,opacity:0}],{duration:125*h,easing:s}).finished.then((()=>e())),null==(i=c(t))||i.forEach((t=>{n(t,[{},{opacity:0,offset:.2},{opacity:0}],{duration:250*h,easing:a})}))},onAfterLeave(t){t.style.removeProperty("pointer-events")}};return()=>o.target?t(e,i({name:"dialog-transition"},m,{css:!1}),l):t(e,{name:"dialog-transition"},l)}});function c(t){var e;const i=null==(e=t.querySelector(":scope > .v-card, :scope > .v-sheet, :scope > .v-list"))?void 0:e.children;return i&&[...i]}function y(t,e){const i=o(t),n=r(e),[s,a]=getComputedStyle(e).transformOrigin.split(" ").map((t=>parseFloat(t))),[p,l]=getComputedStyle(e).getPropertyValue("--v-overlay-anchor-origin").split(" ");let m=i.left+i.width/2;"left"===p||"left"===l?m-=i.width/2:"right"!==p&&"right"!==l||(m+=i.width/2);let h=i.top+i.height/2;"top"===p||"top"===l?h-=i.height/2:"bottom"!==p&&"bottom"!==l||(h+=i.height/2);const d=i.width/n.width,c=i.height/n.height,y=Math.max(1,d,c),u=d/y||0,f=c/y||0,g=n.width*n.height/((void 0).innerWidth*(void 0).innerHeight),v=g>.12?Math.min(1.5,10*(g-.12)+1):1;return{x:m-(s+n.left),y:h-(a+n.top),sx:u,sy:f,speed:v}}export{d as VDialogTransition,h as makeVDialogTransitionProps};
