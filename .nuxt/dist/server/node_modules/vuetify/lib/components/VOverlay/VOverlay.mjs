import{ref as e,computed as o,toRef as t,watch as l,createVNode as a,Fragment as r,mergeProps as s,Teleport as n,withDirectives as i,vShow as m,resolveDirective as c,Transition as u}from"/Users/alexandarvalov/Documents/GitHub/nzis-import-app/node_modules/vue/index.mjs";/* empty css             */import{useLocationStrategies as v,makeLocationStrategyProps as p}from"./locationStrategies.mjs";import{makeScrollStrategyProps as d}from"./scrollStrategies.mjs";import{useActivator as f,makeActivatorProps as b}from"./useActivator.mjs";import{useBackgroundColor as y}from"../../composables/color.mjs";import{makeComponentProps as g}from"../../composables/component.mjs";import{useDimension as j,makeDimensionProps as k}from"../../composables/dimensions.mjs";import{useHydration as C}from"../../composables/hydration.mjs";import{useLazy as S,makeLazyProps as E}from"../../composables/lazy.mjs";import{useRtl as B}from"../../composables/locale.mjs";import{useProxiedModel as h}from"../../composables/proxiedModel.mjs";import{useRouter as A}from"../../composables/router.mjs";import{useScopeId as O}from"../../composables/scopeId.mjs";import{useStack as V}from"../../composables/stack.mjs";import{useTeleport as x}from"../../composables/teleport.mjs";import{provideTheme as T,makeThemeProps as R}from"../../composables/theme.mjs";import{useToggleScope as _}from"../../composables/toggleScope.mjs";import{makeTransitionProps as L,MaybeTransition as w}from"../../composables/transition.mjs";import{ClickOutside as I}from"../../directives/click-outside/index.mjs";import{getScrollParent as z}from"../../util/getScrollParent.mjs";import{genericComponent as N}from"../../util/defineComponent.mjs";import{propsFactory as P}from"../../util/propsFactory.mjs";import{getCurrentInstance as G}from"../../util/getCurrentInstance.mjs";import{useRender as M}from"../../util/useRender.mjs";import{animate as D}from"../../util/animation.mjs";import{standardEasing as F}from"../../util/easing.mjs";import{convertToUnit as H}from"../../util/helpers.mjs";function K(e){const{modelValue:o,color:t,...l}=e;return a(u,{name:"fade-transition",appear:!0},{default:()=>[e.modelValue&&a("div",s({class:["v-overlay__scrim",e.color.backgroundColorClasses.value],style:e.color.backgroundColorStyles.value},l),null)]})}const U=P({absolute:Boolean,attach:[Boolean,String,Object],closeOnBack:{type:Boolean,default:!0},contained:Boolean,contentClass:null,contentProps:null,disabled:Boolean,opacity:[Number,String],noClickAnimation:Boolean,modelValue:Boolean,persistent:Boolean,scrim:{type:[Boolean,String],default:!0},zIndex:{type:[Number,String],default:2e3},...b(),...g(),...k(),...E(),...p(),...d(),...R(),...L()},"VOverlay"),$=N()({name:"VOverlay",directives:{ClickOutside:I},inheritAttrs:!1,props:{_disableGlobalStack:Boolean,...U()},emits:{"click:outside":e=>!0,"update:modelValue":e=>!0,keydown:e=>!0,afterEnter:()=>!0,afterLeave:()=>!0},setup(u,p){let{slots:d,attrs:b,emit:g}=p;const k=G("VOverlay"),E=e(),R=e(),L=e(),I=h(u,"modelValue"),N=o({get:()=>I.value,set:e=>{e&&u.disabled||(I.value=e)}}),{themeClasses:P}=T(u),{rtlClasses:U}=B(),{hasContent:$,onAfterLeave:q}=S(u,N),J=y(o((()=>"string"==typeof u.scrim?u.scrim:null))),{globalTop:Q,localTop:W,stackStyles:X}=V(N,t(u,"zIndex"),u._disableGlobalStack),{activatorEl:Y,activatorRef:Z,target:ee,targetRef:oe,activatorEvents:te,contentEvents:le,scrimEvents:ae}=f(u,{isActive:N,isTop:W,contentEl:L}),{teleportTarget:re}=x((()=>{var e,o,t;const l=u.attach||u.contained;if(l)return l;const a=(null==(e=null==Y?void 0:Y.value)?void 0:e.getRootNode())||(null==(t=null==(o=k.proxy)?void 0:o.$el)?void 0:t.getRootNode());return a instanceof ShadowRoot&&a})),{dimensionStyles:se}=j(u),ne=C(),{scopeId:ie}=O();l((()=>u.disabled),(e=>{e&&(N.value=!1)}));const{contentStyles:me,updateLocation:ce}=v();function ue(e){g("click:outside",e),u.persistent?fe():N.value=!1}function ve(e){return N.value&&Q.value&&(!u.scrim||e.target===R.value||e instanceof MouseEvent&&e.shadowTarget===R.value)}function pe(e){("Escape"!==e.key||Q.value)&&g("keydown",e)}A(),_((()=>u.closeOnBack),(()=>{}));const de=e();function fe(){u.noClickAnimation||L.value&&D(L.value,[{transformOrigin:"center"},{transform:"scale(1.03)"},{transformOrigin:"center"}],{duration:150,easing:F})}function be(){g("afterEnter")}function ye(){q(),g("afterLeave")}return l((()=>N.value&&(u.absolute||u.contained)&&null==re.value),(e=>{if(e){const e=z(E.value);e&&e!==(void 0).scrollingElement&&(de.value=e.scrollTop)}})),M((()=>{var e;return a(r,null,[null==(e=d.activator)?void 0:e.call(d,{isActive:N.value,targetRef:oe,props:s({ref:Z},te.value,u.activatorProps)}),ne.value&&$.value&&a(n,{disabled:!re.value,to:re.value},{default:()=>[a("div",s({class:["v-overlay",{"v-overlay--absolute":u.absolute||u.contained,"v-overlay--active":N.value,"v-overlay--contained":u.contained},P.value,U.value,u.class],style:[X.value,{"--v-overlay-opacity":u.opacity,top:H(de.value)},u.style],ref:E,onKeydown:pe},ie,b),[a(K,s({color:J,modelValue:N.value&&!!u.scrim,ref:R},ae.value),null),a(w,{appear:!0,persisted:!0,transition:u.transition,target:ee.value,onAfterEnter:be,onAfterLeave:ye},{default:()=>{var e;return[i(a("div",s({ref:L,class:["v-overlay__content",u.contentClass],style:[se.value,me.value]},le.value,u.contentProps),[null==(e=d.default)?void 0:e.call(d,{isActive:N})]),[[m,N.value],[c("click-outside"),{handler:ue,closeConditional:ve,include:()=>[Y.value]}]])]}})])]})])})),{activatorEl:Y,scrimEl:R,target:ee,animateClick:fe,contentEl:L,globalTop:Q,localTop:W,updateLocation:ce}}});export{$ as VOverlay,U as makeVOverlayProps};
