import{ref as e,shallowRef as t,inject as o,watch as a,computed as r,onScopeDispose as s,nextTick as l,watchEffect as i,createVNode as n,mergeProps as m}from"/Users/alexandarvalov/Documents/GitHub/nzis-import-app/node_modules/vue/index.mjs";/* empty css              */import{makeVOverlayProps as c,VOverlay as u}from"../VOverlay/VOverlay.mjs";import{forwardRefs as v}from"../../composables/forwardRefs.mjs";import{VuetifyLayoutKey as p,useLayout as f}from"../../composables/layout.mjs";import{makeLocationProps as d}from"../../composables/location.mjs";import{usePosition as b,makePositionProps as k}from"../../composables/position.mjs";import{useProxiedModel as j}from"../../composables/proxiedModel.mjs";import{useRounded as y,makeRoundedProps as V}from"../../composables/rounded.mjs";import{useScopeId as S}from"../../composables/scopeId.mjs";import{provideTheme as g,makeThemeProps as x}from"../../composables/theme.mjs";import{useToggleScope as h}from"../../composables/toggleScope.mjs";import{useVariant as P,makeVariantProps as _,genOverlays as C}from"../../composables/variant.mjs";import{VProgressLinear as T}from"../VProgressLinear/VProgressLinear.mjs";import{VDefaultsProvider as D}from"../VDefaultsProvider/VDefaultsProvider.mjs";import{genericComponent as L}from"../../util/defineComponent.mjs";import{propsFactory as w}from"../../util/propsFactory.mjs";import{refElement as A,omit as B}from"../../util/helpers.mjs";import{useRender as I}from"../../util/useRender.mjs";const M=w({multiLine:Boolean,text:String,timer:[Boolean,String],timeout:{type:[Number,String],default:5e3},vertical:Boolean,...d({location:"bottom"}),...k(),...V(),..._(),...x(),...B(c({transition:"v-snackbar-transition"}),["persistent","noClickAnimation","scrim","scrollStrategy"])},"VSnackbar"),N=L()({name:"VSnackbar",props:M(),emits:{"update:modelValue":e=>!0},setup(c,d){let{slots:k}=d;const V=j(c,"modelValue"),{positionClasses:x}=b(c),{scopeId:_}=S(),{themeClasses:L}=g(c),{colorClasses:w,colorStyles:B,variantClasses:M}=P(c),{roundedClasses:N}=y(c),F=function(e){const o=t(e());let a=-1;function r(){clearInterval(a)}return s(r),{clear:r,time:o,start:function(t){const s=t?getComputedStyle(t):{transitionDuration:.2},l=1e3*parseFloat(s.transitionDuration)||200;if(r(),o.value<=0)return;const i=performance.now();a=(void 0).setInterval((()=>{const t=performance.now()-i+l;o.value=Math.max(e()-t,0),o.value<=0&&r()}),l)},reset:function(){r(),l((()=>o.value=e()))}}}((()=>Number(c.timeout))),G=e(),O=e(),R=t(!1),U=t(0),Y=e(),z=o(p,void 0);h((()=>!!z),(()=>{const e=f();i((()=>{Y.value=e.mainStyles.value}))})),a(V,$),a((()=>c.timeout),$);let H=-1;function $(){F.reset(),(void 0).clearTimeout(H);const e=Number(c.timeout);if(!V.value||-1===e)return;const t=A(O.value);F.start(t),H=(void 0).setTimeout((()=>{V.value=!1}),e)}function q(){R.value=!0,F.reset(),(void 0).clearTimeout(H)}function E(){R.value=!1,$()}function J(e){U.value=e.touches[0].clientY}function K(e){Math.abs(U.value-e.changedTouches[0].clientY)>50&&(V.value=!1)}function Q(){R.value&&E()}const W=r((()=>c.location.split(" ").reduce(((e,t)=>(e[`v-snackbar--${t}`]=!0,e)),{})));return I((()=>{const e=u.filterProps(c),t=!!(k.default||k.text||c.text);return n(u,m({ref:G,class:["v-snackbar",{"v-snackbar--active":V.value,"v-snackbar--multi-line":c.multiLine&&!c.vertical,"v-snackbar--timer":!!c.timer,"v-snackbar--vertical":c.vertical},W.value,x.value,c.class],style:[Y.value,c.style]},e,{modelValue:V.value,"onUpdate:modelValue":e=>V.value=e,contentProps:m({class:["v-snackbar__wrapper",L.value,w.value,N.value,M.value],style:[B.value],onPointerenter:q,onPointerleave:E},e.contentProps),persistent:!0,noClickAnimation:!0,scrim:!1,scrollStrategy:"none",_disableGlobalStack:!0,onTouchstartPassive:J,onTouchend:K,onAfterLeave:Q},_),{default:()=>{var e,o;return[C(!1,"v-snackbar"),c.timer&&!R.value&&n("div",{key:"timer",class:"v-snackbar__timer"},[n(T,{ref:O,color:"string"==typeof c.timer?c.timer:"info",max:c.timeout,"model-value":F.time.value},null)]),t&&n("div",{key:"content",class:"v-snackbar__content",role:"status","aria-live":"polite"},[(null==(e=k.text)?void 0:e.call(k))??c.text,null==(o=k.default)?void 0:o.call(k)]),k.actions&&n(D,{defaults:{VBtn:{variant:"text",ripple:!1,slim:!0}}},{default:()=>[n("div",{class:"v-snackbar__actions"},[k.actions({isActive:V})])]})]},activator:k.activator})})),v({},G)}});export{N as VSnackbar,M as makeVSnackbarProps};
