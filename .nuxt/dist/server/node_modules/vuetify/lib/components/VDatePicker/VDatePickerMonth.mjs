import{ref as e,shallowRef as a,computed as t,watch as i,createVNode as l,createTextVNode as s}from"/Users/alexandarvalov/Documents/GitHub/nzis-import-app/node_modules/vue/index.mjs";/* empty css                     */import{useCalendar as o,makeCalendarProps as d}from"../../composables/calendar.mjs";import{useDate as n}from"../../composables/date/date.mjs";import{MaybeTransition as r}from"../../composables/transition.mjs";import{omit as u}from"../../util/helpers.mjs";import{VBtn as v}from"../VBtn/VBtn.mjs";import{genericComponent as m}from"../../util/defineComponent.mjs";import{propsFactory as c}from"../../util/propsFactory.mjs";import{useRender as p}from"../../util/useRender.mjs";const k=c({color:String,hideWeekdays:Boolean,multiple:[Boolean,Number,String],showWeek:Boolean,transition:{type:String,default:"picker-transition"},reverseTransition:{type:String,default:"picker-reverse-transition"},...u(d(),["displayValue"])},"VDatePickerMonth"),y=m()({name:"VDatePickerMonth",props:k(),emits:{"update:modelValue":e=>!0,"update:month":e=>!0,"update:year":e=>!0},setup(d,u){let{emit:m,slots:c}=u;const k=e(),{daysInMonth:y,model:h,weekNumbers:f}=o(d),_=n(),g=a(),j=a(),D=a(!1),b=t((()=>D.value?d.reverseTransition:d.transition));"range"===d.multiple&&h.value.length>0&&(g.value=h.value[0],h.value.length>1&&(j.value=h.value[h.value.length-1]));const S=t((()=>{const e=["number","string"].includes(typeof d.multiple)?Number(d.multiple):1/0;return h.value.length>=e}));function w(e){"range"===d.multiple?function(e){const a=_.startOfDay(e);if(0===h.value.length?g.value=void 0:1===h.value.length&&(g.value=h.value[0],j.value=void 0),g.value)if(j.value)g.value=e,j.value=void 0,h.value=[g.value];else{if(_.isSameDay(a,g.value))return g.value=void 0,void(h.value=[]);_.isBefore(a,g.value)?(j.value=_.endOfDay(g.value),g.value=a):j.value=_.endOfDay(a);const e=_.getDiff(j.value,g.value,"days"),t=[g.value];for(let a=1;a<e;a++){const e=_.addDays(g.value,a);t.push(e)}t.push(j.value),h.value=t}else g.value=a,h.value=[g.value]}(e):d.multiple?function(e){const a=h.value.findIndex((a=>_.isSameDay(a,e)));if(-1===a)h.value=[...h.value,e];else{const e=[...h.value];e.splice(a,1),h.value=e}}(e):h.value=[e]}i(y,((e,a)=>{a&&(D.value=_.isBefore(e[0].date,a[0].date))})),p((()=>l("div",{class:"v-date-picker-month"},[d.showWeek&&l("div",{key:"weeks",class:"v-date-picker-month__weeks"},[!d.hideWeekdays&&l("div",{key:"hide-week-days",class:"v-date-picker-month__day"},[s("Â ")]),f.value.map((e=>l("div",{class:["v-date-picker-month__day","v-date-picker-month__day--adjacent"]},[e])))]),l(r,{name:b.value},{default:()=>{var e;return[l("div",{ref:k,key:null==(e=y.value[0].date)?void 0:e.toString(),class:"v-date-picker-month__days"},[!d.hideWeekdays&&_.getWeekdays(d.firstDayOfWeek).map((e=>l("div",{class:["v-date-picker-month__day","v-date-picker-month__weekday"]},[e]))),y.value.map(((e,a)=>{var t;const i={props:{class:"v-date-picker-month__day-btn",color:e.isSelected||e.isToday?d.color:void 0,disabled:e.isDisabled,icon:!0,ripple:!1,text:e.localized,variant:e.isSelected?"flat":e.isToday?"outlined":"text",onClick:()=>w(e.date)},item:e,i:a};return S.value&&!e.isSelected&&(e.isDisabled=!0),l("div",{class:["v-date-picker-month__day",{"v-date-picker-month__day--adjacent":e.isAdjacent,"v-date-picker-month__day--hide-adjacent":e.isHidden,"v-date-picker-month__day--selected":e.isSelected,"v-date-picker-month__day--week-end":e.isWeekEnd,"v-date-picker-month__day--week-start":e.isWeekStart}],"data-v-date":e.isDisabled?void 0:e.isoDate},[(d.showAdjacentMonths||!e.isAdjacent)&&((null==(t=c.day)?void 0:t.call(c,i))??l(v,i.props,null))])}))])]}})])))}});export{y as VDatePickerMonth,k as makeVDatePickerMonthProps};
