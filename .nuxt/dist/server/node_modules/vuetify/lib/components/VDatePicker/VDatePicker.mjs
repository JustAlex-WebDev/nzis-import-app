import{computed as e,ref as a,shallowRef as t,watch as l,createVNode as r,mergeProps as o,Fragment as u}from"/Users/alexandarvalov/Documents/GitHub/nzis-import-app/node_modules/vue/index.mjs";/* empty css                */import{makeVDatePickerControlsProps as i,VDatePickerControls as n}from"./VDatePickerControls.mjs";import{VDatePickerHeader as s}from"./VDatePickerHeader.mjs";import{makeVDatePickerMonthProps as m,VDatePickerMonth as v}from"./VDatePickerMonth.mjs";import{makeVDatePickerMonthsProps as d,VDatePickerMonths as p}from"./VDatePickerMonths.mjs";import{makeVDatePickerYearsProps as c,VDatePickerYears as f}from"./VDatePickerYears.mjs";import{VFadeTransition as h}from"../transitions/index.mjs";import{makeVPickerProps as k,VPicker as V}from"../../labs/VPicker/VPicker.mjs";import{useLocale as y,useRtl as P}from"../../composables/locale.mjs";import{useProxiedModel as j}from"../../composables/proxiedModel.mjs";import{useDate as D}from"../../composables/date/date.mjs";import{VDefaultsProvider as M}from"../VDefaultsProvider/VDefaultsProvider.mjs";import{genericComponent as x}from"../../util/defineComponent.mjs";import{propsFactory as g}from"../../util/propsFactory.mjs";import{wrapInArray as C,omit as b}from"../../util/helpers.mjs";import{useRender as Y}from"../../util/useRender.mjs";const w=g({header:{type:String,default:"$vuetify.datePicker.header"},headerColor:String,...i(),...m({weeksInMonth:"static"}),...b(d(),["modelValue"]),...b(c(),["modelValue"]),...k({title:"$vuetify.datePicker.title"}),modelValue:null},"VDatePicker"),O=x()({name:"VDatePicker",props:w(),emits:{"update:modelValue":e=>!0,"update:month":e=>!0,"update:year":e=>!0,"update:viewMode":e=>!0},setup(i,m){let{emit:d,slots:c}=m;const k=D(),{t:x}=y(),{rtlClasses:g}=P(),w=j(i,"modelValue",void 0,(e=>C(e).map((e=>k.date(e)))),(e=>i.multiple?e:e[0])),O=j(i,"viewMode"),U=e((()=>{const e=k.date(i.min);return i.min&&k.isValid(e)?e:null})),$=e((()=>{const e=k.date(i.max);return i.max&&k.isValid(e)?e:null})),A=e((()=>{var e;const a=k.date();let t=a;return(null==(e=w.value)?void 0:e[0])?t=k.date(w.value[0]):U.value&&k.isBefore(a,U.value)?t=U.value:$.value&&k.isAfter(a,$.value)&&(t=$.value),t&&k.isValid(t)?t:a})),H=e((()=>i.headerColor??i.color)),S=a(Number(i.month??k.getMonth(k.startOfMonth(A.value)))),W=a(Number(i.year??k.getYear(k.startOfYear(k.setMonth(A.value,S.value))))),_=t(!1),B=e((()=>i.multiple&&w.value.length>1?x("$vuetify.datePicker.itemsSelected",w.value.length):w.value[0]&&k.isValid(w.value[0])?k.format(k.date(w.value[0]),"normalDateWithWeekday"):x(i.header))),N=e((()=>{let e=k.date();return e=k.setDate(e,1),e=k.setMonth(e,S.value),e=k.setYear(e,W.value),k.format(e,"monthAndYear")})),z=e((()=>`date-picker-header${_.value?"-reverse":""}-transition`)),F=e((()=>{if(i.disabled)return!0;const e=[];if("month"!==O.value)e.push("prev","next");else{let a=k.date();if(a=k.startOfMonth(a),a=k.setMonth(a,S.value),a=k.setYear(a,W.value),U.value){const t=k.addDays(k.startOfMonth(a),-1);k.isAfter(U.value,t)&&e.push("prev")}if($.value){const t=k.addDays(k.endOfMonth(a),1);k.isAfter(t,$.value)&&e.push("next")}}return e}));function G(){S.value<11?S.value++:(W.value++,S.value=0,J(W.value)),E(S.value)}function I(){S.value>0?S.value--:(W.value--,S.value=11,J(W.value)),E(S.value)}function L(){O.value="month"}function R(){O.value="months"===O.value?"month":"months"}function q(){O.value="year"===O.value?"month":"year"}function E(e){"months"===O.value&&R(),d("update:month",e)}function J(e){"year"===O.value&&q(),d("update:year",e)}return l(w,((e,a)=>{const t=C(a),l=C(e);if(!l.length)return;const r=k.date(t[t.length-1]),o=k.date(l[l.length-1]),u=k.getMonth(o),i=k.getYear(o);u!==S.value&&(S.value=u,E(S.value)),i!==W.value&&(W.value=i,J(W.value)),_.value=k.isBefore(r,o)})),Y((()=>{const e=V.filterProps(i),a=n.filterProps(i),t=s.filterProps(i),l=v.filterProps(i),m=b(p.filterProps(i),["modelValue"]),d=b(f.filterProps(i),["modelValue"]),k={color:H.value,header:B.value,transition:z.value};return r(V,o(e,{color:H.value,class:["v-date-picker",`v-date-picker--${O.value}`,{"v-date-picker--show-week":i.showWeek},g.value,i.class],style:i.style}),{title:()=>{var e;return(null==(e=c.title)?void 0:e.call(c))??r("div",{class:"v-date-picker__title"},[x(i.title)])},header:()=>c.header?r(M,{defaults:{VDatePickerHeader:{...k}}},{default:()=>{var e;return[null==(e=c.header)?void 0:e.call(c,k)]}}):r(s,o({key:"header"},t,k,{onClick:"month"!==O.value?L:void 0}),{...c,default:void 0}),default:()=>r(u,null,[r(n,o(a,{disabled:F.value,text:N.value,"onClick:next":G,"onClick:prev":I,"onClick:month":R,"onClick:year":q}),null),r(h,{hideOnLeave:!0},{default:()=>["months"===O.value?r(p,o({key:"date-picker-months"},m,{modelValue:S.value,"onUpdate:modelValue":[e=>S.value=e,E],min:U.value,max:$.value,year:W.value}),null):"year"===O.value?r(f,o({key:"date-picker-years"},d,{modelValue:W.value,"onUpdate:modelValue":[e=>W.value=e,J],min:U.value,max:$.value}),null):r(v,o({key:"date-picker-month"},l,{modelValue:w.value,"onUpdate:modelValue":e=>w.value=e,month:S.value,"onUpdate:month":[e=>S.value=e,E],year:W.value,"onUpdate:year":[e=>W.value=e,J],min:U.value,max:$.value}),null)]})]),actions:c.actions})})),{}}});export{O as VDatePicker,w as makeVDatePickerProps};
