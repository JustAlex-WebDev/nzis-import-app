import{shallowRef as e,computed as l,createVNode as o}from"/Users/alexandarvalov/Documents/GitHub/nzis-import-app/node_modules/vue/index.mjs";/* empty css                */import{VFadeTransition as t}from"../transitions/index.mjs";import{makeComponentProps as s}from"../../composables/component.mjs";import{useDisplay as r,makeDisplayProps as n}from"../../composables/display.mjs";import{useGoTo as a}from"../../composables/goto.mjs";import{useGroup as i,makeGroupProps as u}from"../../composables/group.mjs";import{IconValue as v}from"../../composables/icons.mjs";import{useRtl as c}from"../../composables/locale.mjs";import{useResizeObserver as d}from"../../composables/resizeObserver.mjs";import{makeTagProps as p}from"../../composables/tag.mjs";import{getScrollSize as m,getClientSize as f,calculateUpdatedTarget as b}from"./helpers.mjs";import{focusableChildren as g}from"../../util/helpers.mjs";import{VIcon as h}from"../VIcon/VIcon.mjs";import{genericComponent as y}from"../../util/defineComponent.mjs";import{propsFactory as x}from"../../util/propsFactory.mjs";import{useRender as j}from"../../util/useRender.mjs";const w=Symbol.for("vuetify:v-slide-group"),S=x({centerActive:Boolean,direction:{type:String,default:"horizontal"},symbol:{type:null,default:w},nextIcon:{type:v,default:"$next"},prevIcon:{type:v,default:"$prev"},showArrows:{type:[Boolean,String],validator:e=>"boolean"==typeof e||["always","desktop","mobile"].includes(e)},...s(),...n({mobile:null}),...p(),...u({selectedClass:"v-slide-group-item--active"})},"VSlideGroup"),k=y()({name:"VSlideGroup",props:S(),emits:{"update:modelValue":e=>!0},setup(s,n){let{slots:u}=n;const{isRtl:v}=c(),{displayClasses:p,mobile:y}=r(s),x=i(s,s.symbol),w=e(!1),S=e(0),k=e(0);e(0);const _=l((()=>"horizontal"===s.direction)),{resizeRef:A}=d(),{resizeRef:I}=d();a(),l((()=>({container:A.el,duration:200,easing:"easeOutQuart"}))),l((()=>x.selected.value.length?x.items.value.findIndex((e=>e.id===x.selected.value[0])):-1)),l((()=>x.selected.value.length?x.items.value.findIndex((e=>e.id===x.selected.value[x.selected.value.length-1])):-1));const z=e(!1);function C(e){const{scrollTop:l,scrollLeft:o}=e.target;S.value=_.value?o:l}function E(e){var l;if(z.value=!0,w.value&&I.el)for(const o of e.composedPath())for(const e of I.el.children)if(e===o)return l=e,void b({containerElement:A.el,isHorizontal:_.value,isRtl:v.value,selectedElement:l})}function M(e){z.value=!1}let R=!1;function V(e){var l;R||z.value||e.relatedTarget&&(null==(l=I.el)?void 0:l.contains(e.relatedTarget))||D(),R=!1}function F(){R=!0}function G(e){function l(l){e.preventDefault(),D(l)}I.el&&(_.value?"ArrowRight"===e.key?l(v.value?"prev":"next"):"ArrowLeft"===e.key&&l(v.value?"next":"prev"):"ArrowDown"===e.key?l("next"):"ArrowUp"===e.key&&l("prev"),"Home"===e.key?l("first"):"End"===e.key&&l("last"))}function T(e,l){if(!e)return;let o=e;do{o=null==o?void 0:o["next"===l?"nextElementSibling":"previousElementSibling"]}while(null==o?void 0:o.hasAttribute("disabled"));return o}function D(e){if(!I.el)return;let l;if(e)if("next"===e){if(l=T(I.el.querySelector(":focus"),e),!l)return D("first")}else if("prev"===e){if(l=T(I.el.querySelector(":focus"),e),!l)return D("last")}else"first"===e?(l=I.el.firstElementChild,(null==l?void 0:l.hasAttribute("disabled"))&&(l=T(l,"next"))):"last"===e&&(l=I.el.lastElementChild,(null==l?void 0:l.hasAttribute("disabled"))&&(l=T(l,"prev")));else{l=g(I.el)[0]}l&&l.focus({preventScroll:!0})}function H(e){const l=_.value&&v.value?-1:1;k.value;if(S.value,_.value&&v.value&&A.el){const{scrollWidth:e,offsetWidth:l}=A.el}}const O=l((()=>({next:x.next,prev:x.prev,select:x.select,isSelected:x.isSelected}))),q=l((()=>{switch(s.showArrows){case"always":return!0;case"desktop":return!y.value;case!0:return w.value||Math.abs(S.value)>0;case"mobile":return y.value||w.value||Math.abs(S.value)>0;default:return!y.value&&(w.value||Math.abs(S.value)>0)}})),B=l((()=>Math.abs(S.value)>1)),L=l((()=>{if(!A.value)return!1;return m(_.value,A.el)-f(_.value,A.el)-Math.abs(S.value)>1}));return j((()=>o(s.tag,{class:["v-slide-group",{"v-slide-group--vertical":!_.value,"v-slide-group--has-affixes":q.value,"v-slide-group--is-overflowing":w.value},p.value,s.class],style:s.style,tabindex:z.value||x.selected.value.length?-1:0,onFocus:V},{default:()=>{var e,l,r;return[q.value&&o("div",{key:"prev",class:["v-slide-group__prev",{"v-slide-group__prev--disabled":!B.value}],onMousedown:F,onClick:()=>B.value&&H("prev")},[(null==(e=u.prev)?void 0:e.call(u,O.value))??o(t,null,{default:()=>[o(h,{icon:v.value?s.nextIcon:s.prevIcon},null)]})]),o("div",{key:"container",ref:A,class:"v-slide-group__container",onScroll:C},[o("div",{ref:I,class:"v-slide-group__content",onFocusin:E,onFocusout:M,onKeydown:G},[null==(l=u.default)?void 0:l.call(u,O.value)])]),q.value&&o("div",{key:"next",class:["v-slide-group__next",{"v-slide-group__next--disabled":!L.value}],onMousedown:F,onClick:()=>L.value&&H("next")},[(null==(r=u.next)?void 0:r.call(u,O.value))??o(t,null,{default:()=>[o(h,{icon:v.value?s.prevIcon:s.nextIcon},null)]})])]}}))),{selected:x.selected,scrollTo:H,scrollOffset:S,focus:D,hasPrev:B,hasNext:L}}});export{k as VSlideGroup,w as VSlideGroupSymbol,S as makeVSlideGroupProps};
