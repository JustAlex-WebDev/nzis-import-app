import{toRefs as e,toRef as t,computed as o,createVNode as a,mergeProps as l,Fragment as s}from"/Users/alexandarvalov/Documents/GitHub/nzis-import-app/node_modules/vue/index.mjs";/* empty css               */import{makeVDataTableFooterProps as r,VDataTableFooter as m}from"./VDataTableFooter.mjs";import{makeVDataTableHeadersProps as i,VDataTableHeaders as p}from"./VDataTableHeaders.mjs";import{makeVDataTableRowsProps as u,VDataTableRows as d}from"./VDataTableRows.mjs";import{makeVTableProps as n,VTable as c}from"../VTable/VTable.mjs";import{provideExpanded as g,makeDataTableExpandProps as f}from"./composables/expand.mjs";import{createGroupBy as v,provideGroupBy as b,useGroupedItems as h,makeDataTableGroupProps as y}from"./composables/group.mjs";import{createHeaders as x,makeDataTableHeaderProps as D}from"./composables/headers.mjs";import{useDataTableItems as P,makeDataTableItemsProps as S}from"./composables/items.mjs";import{useOptions as j}from"./composables/options.mjs";import{createPagination as B,providePagination as w,usePaginatedItems as I,makeDataTablePaginateProps as T}from"./composables/paginate.mjs";import{provideSelection as V,makeDataTableSelectProps as F}from"./composables/select.mjs";import{createSort as E,provideSort as G,useSortedItems as H,makeDataTableSortProps as R}from"./composables/sort.mjs";import{provideDefaults as C}from"../../composables/defaults.mjs";import{useFilter as N,makeFilterProps as k}from"../../composables/filter.mjs";import{VDivider as A}from"../VDivider/VDivider.mjs";import{genericComponent as O}from"../../util/defineComponent.mjs";import{propsFactory as z}from"../../util/propsFactory.mjs";import{useRender as K}from"../../util/useRender.mjs";const L=z({...u(),hideDefaultBody:Boolean,hideDefaultFooter:Boolean,hideDefaultHeader:Boolean,width:[String,Number],search:String,...f(),...y(),...D(),...S(),...F(),...R(),...i(),...n()},"DataTable"),U=z({...T(),...L(),...k(),...r()},"VDataTable"),W=O()({name:"VDataTable",props:U(),emits:{"update:modelValue":e=>!0,"update:page":e=>!0,"update:itemsPerPage":e=>!0,"update:sortBy":e=>!0,"update:options":e=>!0,"update:groupBy":e=>!0,"update:expanded":e=>!0,"update:currentItems":e=>!0},setup(r,i){let{attrs:u,slots:n}=i;const{groupBy:f}=v(r),{sortBy:y,multiSort:D,mustSort:S}=E(r),{page:T,itemsPerPage:F}=B(r),{disableSort:R}=e(r),{columns:k,headers:O,sortFunctions:z,sortRawFunctions:L,filterFunctions:U}=x(r,{groupBy:f,showSelect:t(r,"showSelect"),showExpand:t(r,"showExpand")}),{items:W}=P(r,k),_=t(r,"search"),{filteredItems:q}=N(r,W,_,{transform:e=>e.columns,customKeyFilter:U}),{toggleSort:J}=G({sortBy:y,multiSort:D,mustSort:S,page:T}),{sortByWithGroups:M,opened:Q,extractRows:X,isGroupOpen:Y,toggleGroup:Z}=b({groupBy:f,sortBy:y,disableSort:R}),{sortedItems:$}=H(r,q,M,{transform:e=>({...e.raw,...e.columns}),sortFunctions:z,sortRawFunctions:L}),{flatItems:ee}=h($,f,Q),te=o((()=>ee.value.length)),{startIndex:oe,stopIndex:ae,pageCount:le,setItemsPerPage:se}=w({page:T,itemsPerPage:F,itemsLength:te}),{paginatedItems:re}=I({items:ee,startIndex:oe,stopIndex:ae,itemsPerPage:F}),me=o((()=>X(re.value))),{isSelected:ie,select:pe,selectAll:ue,toggleSelect:de,someSelected:ne,allSelected:ce}=V(r,{allItems:W,currentPage:me}),{isExpanded:ge,toggleExpand:fe}=g(r);j({page:T,itemsPerPage:F,sortBy:y,groupBy:f,search:_}),C({VDataTableRows:{hideNoData:t(r,"hideNoData"),noDataText:t(r,"noDataText"),loading:t(r,"loading"),loadingText:t(r,"loadingText")}});const ve=o((()=>({page:T.value,itemsPerPage:F.value,sortBy:y.value,pageCount:le.value,toggleSort:J,setItemsPerPage:se,someSelected:ne.value,allSelected:ce.value,isSelected:ie,select:pe,selectAll:ue,toggleSelect:de,isExpanded:ge,toggleExpand:fe,isGroupOpen:Y,toggleGroup:Z,items:me.value.map((e=>e.raw)),internalItems:me.value,groupedItems:re.value,columns:k.value,headers:O.value})));return K((()=>{const e=m.filterProps(r),t=p.filterProps(r),o=d.filterProps(r),i=c.filterProps(r);return a(c,l({class:["v-data-table",{"v-data-table--show-select":r.showSelect,"v-data-table--loading":r.loading},r.class],style:r.style},i,{fixedHeader:r.fixedHeader||r.sticky}),{top:()=>{var e;return null==(e=n.top)?void 0:e.call(n,ve.value)},default:()=>{var e,m,i,c,g,f;return n.default?n.default(ve.value):a(s,null,[null==(e=n.colgroup)?void 0:e.call(n,ve.value),!r.hideDefaultHeader&&a("thead",{key:"thead"},[a(p,t,n)]),null==(m=n.thead)?void 0:m.call(n,ve.value),!r.hideDefaultBody&&a("tbody",null,[null==(i=n["body.prepend"])?void 0:i.call(n,ve.value),n.body?n.body(ve.value):a(d,l(u,o,{items:re.value}),n),null==(c=n["body.append"])?void 0:c.call(n,ve.value)]),null==(g=n.tbody)?void 0:g.call(n,ve.value),null==(f=n.tfoot)?void 0:f.call(n,ve.value)])},bottom:()=>n.bottom?n.bottom(ve.value):!r.hideDefaultFooter&&a(s,null,[a(A,null,null),a(m,e,{prepend:n["footer.prepend"]})])})})),{}}});export{W as VDataTable,L as makeDataTableProps,U as makeVDataTableProps};
