import{createVNode as e,mergeProps as l,withModifiers as t,toDisplayString as a,Fragment as o}from"/Users/alexandarvalov/Documents/GitHub/nzis-import-app/node_modules/vue/index.mjs";import{VDataTableColumn as n}from"./VDataTableColumn.mjs";import{useExpanded as i}from"./composables/expand.mjs";import{useHeaders as s}from"./composables/headers.mjs";import{useSelection as d}from"./composables/select.mjs";import{useSort as m}from"./composables/sort.mjs";import{useDisplay as r,makeDisplayProps as c}from"../../composables/display.mjs";import{VCheckboxBtn as p}from"../VCheckbox/VCheckboxBtn.mjs";import{VBtn as u}from"../VBtn/VBtn.mjs";import{genericComponent as b}from"../../util/defineComponent.mjs";import{propsFactory as x}from"../../util/propsFactory.mjs";import{useRender as v}from"../../util/useRender.mjs";import{EventProp as f,getObjectValueByPath as k}from"../../util/helpers.mjs";const C=x({index:Number,item:Object,cellProps:[Object,Function],onClick:f(),onContextmenu:f(),onDblclick:f(),...c()},"VDataTableRow"),g=b()({name:"VDataTableRow",props:C(),setup(c,b){let{slots:x}=b;const{displayClasses:f,mobile:C}=r(c,"v-data-table__tr"),{isSelected:g,toggleSelect:y,someSelected:j,allSelected:_,selectAll:S}=d(),{isExpanded:h,toggleExpand:w}=i(),{toggleSort:V,sortBy:D,isSorted:P}=m(),{columns:I}=s();v((()=>e("tr",{class:["v-data-table__tr",{"v-data-table__tr--clickable":!!(c.onClick||c.onContextmenu||c.onDblclick)},f.value],onClick:c.onClick,onContextmenu:c.onContextmenu,onDblclick:c.onDblclick},[c.item&&I.value.map(((i,s)=>{const d=c.item,m=`item.${i.key}`,r=`header.${i.key}`,b={index:c.index,item:d.raw,internalItem:d,value:k(d.columns,i.key),column:i,isSelected:g,toggleSelect:y,isExpanded:h,toggleExpand:w},v={column:i,selectAll:S,isSorted:P,toggleSort:V,sortBy:D.value,someSelected:j.value,allSelected:_.value,getSortIcon:()=>""},f="function"==typeof c.cellProps?c.cellProps({index:b.index,item:b.item,internalItem:b.internalItem,value:b.value,column:i}):c.cellProps,I="function"==typeof i.cellProps?i.cellProps({index:b.index,item:b.item,internalItem:b.internalItem,value:b.value}):i.cellProps;return e(n,l({align:i.align,class:{"v-data-table__td--expanded-row":"data-table-expand"===i.key,"v-data-table__td--select-row":"data-table-select"===i.key},fixed:i.fixed,fixedOffset:i.fixedOffset,lastFixed:i.lastFixed,maxWidth:C.value?void 0:i.maxWidth,noPadding:"data-table-select"===i.key||"data-table-expand"===i.key,nowrap:i.nowrap,width:C.value?void 0:i.width},f,I),{default:()=>{var l,n,s,f;if("data-table-select"===i.key)return(null==(l=x["item.data-table-select"])?void 0:l.call(x,{...b,props:{disabled:!d.selectable,modelValue:g([d]),onClick:t((()=>y(d)),["stop"])}}))??e(p,{disabled:!d.selectable,modelValue:g([d]),onClick:t((e=>y(d,c.index,e)),["stop"])},null);if("data-table-expand"===i.key)return(null==(n=x["item.data-table-expand"])?void 0:n.call(x,{...b,props:{icon:h(d)?"$collapse":"$expand",size:"small",variant:"text",onClick:t((()=>w(d)),["stop"])}}))??e(u,{icon:h(d)?"$collapse":"$expand",size:"small",variant:"text",onClick:t((()=>w(d)),["stop"])},null);if(x[m]&&!C.value)return x[m](b);const k=a(b.value);return C.value?e(o,null,[e("div",{class:"v-data-table__td-title"},[(null==(s=x[r])?void 0:s.call(x,v))??i.title]),e("div",{class:"v-data-table__td-value"},[(null==(f=x[m])?void 0:f.call(x,b))??k])]):k}})}))])))}});export{g as VDataTableRow,C as makeVDataTableRowProps};
