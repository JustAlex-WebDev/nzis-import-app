import{useProxiedModel as e}from"../../../composables/proxiedModel.mjs";import{computed as t,watch as a,provide as u,inject as n}from"/Users/alexandarvalov/Documents/GitHub/nzis-import-app/node_modules/vue/index.mjs";import{propsFactory as i}from"../../../util/propsFactory.mjs";import{getCurrentInstance as r}from"../../../util/getCurrentInstance.mjs";import{clamp as l}from"../../../util/helpers.mjs";const o=i({page:{type:[Number,String],default:1},itemsPerPage:{type:[Number,String],default:10}},"DataTable-paginate"),s=Symbol.for("vuetify:data-table-pagination");function m(t){return{page:e(t,"page",void 0,(e=>Number(e??1))),itemsPerPage:e(t,"itemsPerPage",void 0,(e=>Number(e??10)))}}function v(e){const{page:n,itemsPerPage:i,itemsLength:r}=e,o=t((()=>-1===i.value?0:i.value*(n.value-1))),m=t((()=>-1===i.value?r.value:Math.min(r.value,o.value+i.value))),v=t((()=>-1===i.value||0===r.value?1:Math.ceil(r.value/i.value)));a([n,v],(()=>{n.value>v.value&&(n.value=v.value)}));const p={page:n,itemsPerPage:i,startIndex:o,stopIndex:m,pageCount:v,itemsLength:r,nextPage:function(){n.value=l(n.value+1,1,v.value)},prevPage:function(){n.value=l(n.value-1,1,v.value)},setPage:function(e){n.value=l(e,1,v.value)},setItemsPerPage:function(e){i.value=e,n.value=1}};return u(s,p),p}function p(){const e=n(s);if(!e)throw new Error("Missing pagination!");return e}function g(e){const u=r("usePaginatedItems"),{items:n,startIndex:i,stopIndex:l,itemsPerPage:o}=e,s=t((()=>o.value<=0?n.value:n.value.slice(i.value,l.value)));return a(s,(e=>{u.emit("update:currentItems",e)}),{immediate:!0}),{paginatedItems:s}}export{m as createPagination,o as makeDataTablePaginateProps,v as providePagination,g as usePaginatedItems,p as usePagination};
