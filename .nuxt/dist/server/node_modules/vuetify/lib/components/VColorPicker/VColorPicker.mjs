import{ref as e,computed as o,watch as l,createVNode as r,mergeProps as t,Fragment as s}from"/Users/alexandarvalov/Documents/GitHub/nzis-import-app/node_modules/vue/index.mjs";/* empty css                 */import{VColorPickerCanvas as a}from"./VColorPickerCanvas.mjs";import{VColorPickerEdit as i}from"./VColorPickerEdit.mjs";import{VColorPickerPreview as d}from"./VColorPickerPreview.mjs";import{VColorPickerSwatches as m}from"./VColorPickerSwatches.mjs";import{makeVPickerProps as c,VPicker as u}from"../../labs/VPicker/VPicker.mjs";import{provideDefaults as n}from"../../composables/defaults.mjs";import{useProxiedModel as p}from"../../composables/proxiedModel.mjs";import{modes as v,extractColor as h,nullColor as f}from"./util/index.mjs";import{useRtl as y}from"../../composables/locale.mjs";import{defineComponent as b}from"../../util/defineComponent.mjs";import{propsFactory as k}from"../../util/propsFactory.mjs";import{RGBtoHSV as j,parseColor as w,HSVtoCSS as S}from"../../util/colorUtils.mjs";import{consoleWarn as C}from"../../util/console.mjs";import{useRender as V}from"../../util/useRender.mjs";const g=k({canvasHeight:{type:[String,Number],default:150},disabled:Boolean,dotSize:{type:[Number,String],default:10},hideCanvas:Boolean,hideSliders:Boolean,hideInputs:Boolean,mode:{type:String,default:"rgba",validator:e=>Object.keys(v).includes(e)},modes:{type:Array,default:()=>Object.keys(v),validator:e=>Array.isArray(e)&&e.every((e=>Object.keys(v).includes(e)))},showSwatches:Boolean,swatches:Array,swatchesMaxHeight:{type:[Number,String],default:150},modelValue:{type:[Object,String]},...c({hideHeader:!0})},"VColorPicker"),P=b({name:"VColorPicker",props:g(),emits:{"update:modelValue":e=>!0,"update:mode":e=>!0},setup(c,v){let{slots:b}=v;const k=p(c,"mode"),g=e(null),P=p(c,"modelValue",void 0,(e=>{if(null==e||""===e)return null;let o;try{o=j(w(e))}catch(l){return C(l),null}return o}),(e=>e?h(e,c.modelValue):null)),x=o((()=>P.value?{...P.value,h:g.value??P.value.h}:null)),{rtlClasses:H}=y();let U=!0;l(P,(e=>{U?e&&(g.value=e.h):U=!0}),{immediate:!0});const A=e=>{U=!1,g.value=e.h,P.value=e};return n({VSlider:{color:void 0,trackColor:void 0,trackFillColor:void 0}}),V((()=>{const e=u.filterProps(c);return r(u,t(e,{class:["v-color-picker",H.value,c.class],style:[{"--v-color-picker-color-hsv":S({...x.value??f,a:1})},c.style]}),{...b,default:()=>r(s,null,[!c.hideCanvas&&r(a,{key:"canvas",color:x.value,"onUpdate:color":A,disabled:c.disabled,dotSize:c.dotSize,width:c.width,height:c.canvasHeight},null),(!c.hideSliders||!c.hideInputs)&&r("div",{key:"controls",class:"v-color-picker__controls"},[!c.hideSliders&&r(d,{key:"preview",color:x.value,"onUpdate:color":A,hideAlpha:!k.value.endsWith("a"),disabled:c.disabled},null),!c.hideInputs&&r(i,{key:"edit",modes:c.modes,mode:k.value,"onUpdate:mode":e=>k.value=e,color:x.value,"onUpdate:color":A,disabled:c.disabled},null)]),c.showSwatches&&r(m,{key:"swatches",color:x.value,"onUpdate:color":A,maxHeight:c.swatchesMaxHeight,swatches:c.swatches,disabled:c.disabled},null)])})})),{}}});export{P as VColorPicker,g as makeVColorPickerProps};
