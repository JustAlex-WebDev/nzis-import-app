/* empty css            */import{isObject as e,keyCodes as t}from"../../util/helpers.mjs";const i=Symbol("rippleStop");function n(e,t){e.style.transform=t,e.style.webkitTransform=t}function r(e){return"TouchEvent"===e.constructor.name}function o(e){return"KeyboardEvent"===e.constructor.name}const s={show(e,t){var i;let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!(null==(i=null==t?void 0:t._ripple)?void 0:i.enabled))return;const l=(void 0).createElement("span"),a=(void 0).createElement("span");l.appendChild(a),l.className="v-ripple__container",s.class&&(l.className+=` ${s.class}`);const{radius:p,scale:d,x:c,y:u,centerX:m,centerY:v}=function(e,t){var i;let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},s=0,l=0;if(!o(e)){const i=t.getBoundingClientRect(),n=r(e)?e.touches[e.touches.length-1]:e;s=n.clientX-i.left,l=n.clientY-i.top}let a=0,p=.3;(null==(i=t._ripple)?void 0:i.circle)?(p=.15,a=t.clientWidth/2,a=n.center?a:a+Math.sqrt((s-a)**2+(l-a)**2)/4):a=Math.sqrt(t.clientWidth**2+t.clientHeight**2)/2;const d=(t.clientWidth-2*a)/2+"px",c=(t.clientHeight-2*a)/2+"px";return{radius:a,scale:p,x:n.center?d:s-a+"px",y:n.center?c:l-a+"px",centerX:d,centerY:c}}(e,t,s),h=2*p+"px";a.className="v-ripple__animation",a.style.width=h,a.style.height=h,t.appendChild(l);const _=(void 0).getComputedStyle(t);_&&"static"===_.position&&(t.style.position="relative",t.dataset.previousPosition="static"),a.classList.add("v-ripple__animation--enter"),a.classList.add("v-ripple__animation--visible"),n(a,`translate(${c}, ${u}) scale3d(${d},${d},${d})`),a.dataset.activated=String(performance.now()),requestAnimationFrame((()=>{requestAnimationFrame((()=>{a.classList.remove("v-ripple__animation--enter"),a.classList.add("v-ripple__animation--in"),n(a,`translate(${m}, ${v}) scale3d(1,1,1)`)}))}))},hide(e){var t;if(!(null==(t=null==e?void 0:e._ripple)?void 0:t.enabled))return;const i=e.getElementsByClassName("v-ripple__animation");if(0===i.length)return;const n=i[i.length-1];if(n.dataset.isHiding)return;n.dataset.isHiding="true";const r=performance.now()-Number(n.dataset.activated),o=Math.max(250-r,0);setTimeout((()=>{n.classList.remove("v-ripple__animation--in"),n.classList.add("v-ripple__animation--out"),setTimeout((()=>{var t;1===e.getElementsByClassName("v-ripple__animation").length&&e.dataset.previousPosition&&(e.style.position=e.dataset.previousPosition,delete e.dataset.previousPosition),(null==(t=n.parentNode)?void 0:t.parentNode)===e&&e.removeChild(n.parentNode)}),300)}),o)}};function l(e){return void 0===e||!!e}function a(e){const t={},n=e.currentTarget;if((null==n?void 0:n._ripple)&&!n._ripple.touched&&!e[i]){if(e[i]=!0,r(e))n._ripple.touched=!0,n._ripple.isTouch=!0;else if(n._ripple.isTouch)return;if(t.center=n._ripple.centered||o(e),n._ripple.class&&(t.class=n._ripple.class),r(e)){if(n._ripple.showTimerCommit)return;n._ripple.showTimerCommit=()=>{s.show(e,n,t)},n._ripple.showTimer=(void 0).setTimeout((()=>{var e;(null==(e=null==n?void 0:n._ripple)?void 0:e.showTimerCommit)&&(n._ripple.showTimerCommit(),n._ripple.showTimerCommit=null)}),80)}else s.show(e,n,t)}}function p(e){e[i]=!0}function d(e){const t=e.currentTarget;if(null==t?void 0:t._ripple){if((void 0).clearTimeout(t._ripple.showTimer),"touchend"===e.type&&t._ripple.showTimerCommit)return t._ripple.showTimerCommit(),t._ripple.showTimerCommit=null,void(t._ripple.showTimer=(void 0).setTimeout((()=>{d(e)})));(void 0).setTimeout((()=>{t._ripple&&(t._ripple.touched=!1)})),s.hide(t)}}function c(e){const t=e.currentTarget;(null==t?void 0:t._ripple)&&(t._ripple.showTimerCommit&&(t._ripple.showTimerCommit=null),(void 0).clearTimeout(t._ripple.showTimer))}let u=!1;function m(e){u||e.keyCode!==t.enter&&e.keyCode!==t.space||(u=!0,a(e))}function v(e){u=!1,d(e)}function h(e){u&&(u=!1,d(e))}function _(t,i,n){const{value:r,modifiers:o}=i,u=l(r);if(u||s.hide(t),t._ripple=t._ripple??{},t._ripple.enabled=u,t._ripple.centered=o.center,t._ripple.circle=o.circle,e(r)&&r.class&&(t._ripple.class=r.class),u&&!n){if(o.stop)return t.addEventListener("touchstart",p,{passive:!0}),void t.addEventListener("mousedown",p);t.addEventListener("touchstart",a,{passive:!0}),t.addEventListener("touchend",d,{passive:!0}),t.addEventListener("touchmove",c,{passive:!0}),t.addEventListener("touchcancel",d),t.addEventListener("mousedown",a),t.addEventListener("mouseup",d),t.addEventListener("mouseleave",d),t.addEventListener("keydown",m),t.addEventListener("keyup",v),t.addEventListener("blur",h),t.addEventListener("dragstart",d,{passive:!0})}else!u&&n&&f(t)}function f(e){e.removeEventListener("mousedown",a),e.removeEventListener("touchstart",a),e.removeEventListener("touchend",d),e.removeEventListener("touchmove",c),e.removeEventListener("touchcancel",d),e.removeEventListener("mouseup",d),e.removeEventListener("mouseleave",d),e.removeEventListener("keydown",m),e.removeEventListener("keyup",v),e.removeEventListener("dragstart",d),e.removeEventListener("blur",h)}const E={mounted:function(e,t){_(e,t,!1)},unmounted:function(e){delete e._ripple,f(e)},updated:function(e,t){if(t.value===t.oldValue)return;_(e,t,l(t.oldValue))}};export{E as Ripple,E as default};
