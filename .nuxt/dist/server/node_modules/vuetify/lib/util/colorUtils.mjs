import{APCAcontrast as t}from"./color/APCA.mjs";import{consoleWarn as n}from"./console.mjs";import{has as r,chunk as o,padEnd as s}from"./helpers.mjs";import{fromXYZ as a,toXYZ as e}from"./color/transformCIELAB.mjs";import{toXYZ as i,fromXYZ as u}from"./color/transformSRGB.mjs";function h(t){return!!t&&/^(#|var\(--|(rgb|hsl)a?\()/.test(t)}function c(t){return h(t)&&!/^((rgb|hsl)a?\()?var\(--/.test(t)}const l=/^(?<fn>(?:rgb|hsl)a?)\((?<values>.+)\)/,f={rgb:(t,n,r,o)=>({r:t,g:n,b:r,a:o}),rgba:(t,n,r,o)=>({r:t,g:n,b:r,a:o}),hsl:(t,n,r,o)=>p({h:t,s:n,l:r,a:o}),hsla:(t,n,r,o)=>p({h:t,s:n,l:r,a:o}),hsv:(t,n,r,o)=>g({h:t,s:n,v:r,a:o}),hsva:(t,n,r,o)=>g({h:t,s:n,v:r,a:o})};function m(t){if("number"==typeof t)return(isNaN(t)||t<0||t>16777215)&&n(`'${t}' is not a valid hex color`),{r:(16711680&t)>>16,g:(65280&t)>>8,b:255&t};if("string"==typeof t&&l.test(t)){const{groups:n}=t.match(l),{fn:r,values:o}=n,s=o.split(/,\s*|\s*\/\s*|\s+/).map(((t,n)=>t.endsWith("%")||n>0&&n<3&&["hsl","hsla","hsv","hsva"].includes(r)?parseFloat(t)/100:parseFloat(t)));return f[r](...s)}if("string"==typeof t){let r=t.startsWith("#")?t.slice(1):t;[3,4].includes(r.length)?r=r.split("").map((t=>t+t)).join(""):[6,8].includes(r.length)||n(`'${t}' is not a valid hex(a) color`);const o=parseInt(r,16);return(isNaN(o)||o<0||o>4294967295)&&n(`'${t}' is not a valid hex(a) color`),y(r)}if("object"==typeof t){if(r(t,["r","g","b"]))return t;if(r(t,["h","s","l"]))return g(d(t));if(r(t,["h","s","v"]))return g(t)}throw new TypeError(`Invalid color: ${null==t?t:String(t)||t.constructor.name}\nExpected #hex, #hexa, rgb(), rgba(), hsl(), hsla(), object or number`)}function g(t){const{h:n,s:r,v:o,a:s}=t,a=t=>{const s=(t+n/60)%6;return o-o*r*Math.max(Math.min(s,4-s,1),0)},e=[a(5),a(3),a(1)].map((t=>Math.round(255*t)));return{r:e[0],g:e[1],b:e[2],a:s}}function p(t){return g(d(t))}function b(t){if(!t)return{h:0,s:1,v:1,a:1};const n=t.r/255,r=t.g/255,o=t.b/255,s=Math.max(n,r,o),a=Math.min(n,r,o);let e=0;s!==a&&(s===n?e=60*(0+(r-o)/(s-a)):s===r?e=60*(2+(o-n)/(s-a)):s===o&&(e=60*(4+(n-r)/(s-a)))),e<0&&(e+=360);const i=[e,0===s?0:(s-a)/s,s];return{h:i[0],s:i[1],v:i[2],a:t.a}}function v(t){const{h:n,s:r,v:o,a:s}=t,a=o-o*r/2;return{h:n,s:1===a||0===a?0:(o-a)/Math.min(a,1-a),l:a,a:s}}function d(t){const{h:n,s:r,l:o,a:s}=t,a=o+r*Math.min(o,1-o);return{h:n,s:0===a?0:2-2*o/a,v:a,a:s}}function M(t){let{r:n,g:r,b:o,a:s}=t;return void 0===s?`rgb(${n}, ${r}, ${o})`:`rgba(${n}, ${r}, ${o}, ${s})`}function $(t){return M(g(t))}function j(t){const n=Math.round(t).toString(16);return("00".substr(0,2-n.length)+n).toUpperCase()}function x(t){let{r:n,g:r,b:o,a:s}=t;return`#${[j(n),j(r),j(o),void 0!==s?j(Math.round(255*s)):""].join("")}`}function y(t){t=N(t);let[n,r,s,a]=o(t,2).map((t=>parseInt(t,16)));return a=void 0===a?a:a/255,{r:n,g:r,b:s,a:a}}function F(t){return b(y(t))}function I(t){return x(g(t))}function N(t){return t.startsWith("#")&&(t=t.slice(1)),3!==(t=t.replace(/([^0-9a-f])/gi,"F")).length&&4!==t.length||(t=t.split("").map((t=>t+t)).join("")),6!==t.length&&(t=s(s(t,6),8,"F")),t}function A(t,n){const r=a(i(t));return r[0]=r[0]+10*n,u(e(r))}function C(t,n){const r=a(i(t));return r[0]=r[0]-10*n,u(e(r))}function E(t){const n=m(t);return i(n)[1]}function S(t,n){const r=E(t),o=E(n);return(Math.max(r,o)+.05)/(Math.min(r,o)+.05)}function W(n){const r=Math.abs(t(m(0),m(n)));return Math.abs(t(m(16777215),m(n)))>Math.min(r,50)?"#fff":"#000"}export{d as HSLtoHSV,p as HSLtoRGB,$ as HSVtoCSS,v as HSVtoHSL,I as HSVtoHex,g as HSVtoRGB,F as HexToHSV,y as HexToRGB,M as RGBtoCSS,b as RGBtoHSV,x as RGBtoHex,C as darken,S as getContrast,W as getForeground,E as getLuma,h as isCssColor,c as isParsableColor,A as lighten,m as parseColor,N as parseHex};
