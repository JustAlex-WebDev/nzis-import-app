import{ref as l,shallowRef as e,computed as o,watch as r}from"/Users/alexandarvalov/Documents/GitHub/nzis-import-app/node_modules/vue/index.mjs";import{propsFactory as t}from"../util/propsFactory.mjs";import{clamp as s}from"../util/helpers.mjs";const a=t({scrollTarget:{type:String},scrollThreshold:{type:[String,Number],default:300}},"scroll");function u(t){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{canScroll:u}=a;let n=0,c=0;const i=l(null),v=e(0),m=e(0),d=e(0),p=e(!1),h=e(!1),f=o((()=>Number(t.scrollThreshold))),g=o((()=>s((f.value-v.value)/f.value||0)));return r(h,(()=>{m.value=m.value||v.value})),r(p,(()=>{m.value=0})),u&&r(u,(()=>{const l=i.value;if(!l||u&&!u.value)return;n=v.value,v.value="window"in l?l.pageYOffset:l.scrollTop;const e=l instanceof Window?(void 0).documentElement.scrollHeight:l.scrollHeight;c===e?(h.value=v.value<n,d.value=Math.abs(v.value-f.value)):c=e}),{immediate:!0}),{scrollThreshold:f,currentScroll:v,currentThreshold:d,isScrollActive:p,scrollRatio:g,isScrollingUp:h,savedScroll:m}}export{a as makeScrollProps,u as useScroll};
