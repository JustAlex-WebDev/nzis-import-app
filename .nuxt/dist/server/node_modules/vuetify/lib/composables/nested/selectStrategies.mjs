import{toRaw as e}from"/Users/alexandarvalov/Documents/GitHub/nzis-import-app/node_modules/vue/index.mjs";const t=t=>{const n={select:n=>{let{id:r,value:s,selected:o}=n;if(r=e(r),t&&!s){const e=Array.from(o.entries()).reduce(((e,t)=>{let[n,r]=t;return"on"===r&&e.push(n),e}),[]);if(1===e.length&&e[0]===r)return o}return o.set(r,s?"on":"off"),o},in:(e,t,r)=>{const s=new Map;for(const o of e||[])n.select({id:o,value:!0,selected:s,children:t,parents:r});return s},out:e=>{const t=[];for(const[n,r]of e.entries())"on"===r&&t.push(n);return t}};return n},n=n=>{const r=t(n);return{select:t=>{let{selected:n,id:s,...o}=t;s=e(s);const c=n.has(s)?new Map([[s,n.get(s)]]):new Map;return r.select({...o,id:s,selected:c})},in:(e,t,n)=>(null==e?void 0:e.length)?r.in(e.slice(0,1),t,n):new Map,out:(e,t,n)=>r.out(e,t,n)}},r=n=>{const r=t(n);return{select:t=>{let{id:n,selected:s,children:o,...c}=t;return n=e(n),o.has(n)?s:r.select({id:n,selected:s,children:o,...c})},in:r.in,out:r.out}},s=t=>{const r=n(t);return{select:t=>{let{id:n,selected:s,children:o,...c}=t;return n=e(n),o.has(n)?s:r.select({id:n,selected:s,children:o,...c})},in:r.in,out:r.out}},o=t=>{const n={select:n=>{let{id:r,value:s,selected:o,children:c,parents:l}=n;r=e(r);const i=new Map(o),u=[r];for(;u.length;){const t=u.shift();o.set(e(t),s?"on":"off"),c.has(t)&&u.push(...c.get(t))}let d=e(l.get(r));for(;d;){const t=c.get(d),n=t.every((t=>"on"===o.get(e(t)))),r=t.every((t=>!o.has(e(t))||"off"===o.get(e(t))));o.set(d,n?"on":r?"off":"indeterminate"),d=e(l.get(d))}if(t&&!s){if(0===Array.from(o.entries()).reduce(((e,t)=>{let[n,r]=t;return"on"===r&&e.push(n),e}),[]).length)return i}return o},in:(e,t,r)=>{let s=new Map;for(const o of e||[])s=n.select({id:o,value:!0,selected:s,children:t,parents:r});return s},out:(e,t)=>{const n=[];for(const[r,s]of e.entries())"on"!==s||t.has(r)||n.push(r);return n}};return n},c=e=>{const t=o(e);return{select:t.select,in:t.in,out:(e,t,n)=>{const r=[];for(const[s,o]of e.entries())if("on"===o){if(n.has(s)){const t=n.get(s);if("on"===e.get(t))continue}r.push(s)}return r}}};export{o as classicSelectStrategy,t as independentSelectStrategy,n as independentSingleSelectStrategy,r as leafSelectStrategy,s as leafSingleSelectStrategy,c as trunkSelectStrategy};
