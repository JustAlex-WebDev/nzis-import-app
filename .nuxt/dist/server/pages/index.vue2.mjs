import{defineComponent as e,reactive as l,ref as a,computed as n,resolveComponent as t,resolveDirective as i,mergeProps as o,withCtx as d,unref as r,createVNode as s,isRef as u,createTextVNode as c,toDisplayString as p,createBlock as m,openBlock as f,withKeys as g,withDirectives as v,createSlots as h,renderList as b,Fragment as x,createCommentVNode as y,withModifiers as _}from"/Users/alexandarvalov/Documents/GitHub/nzis-import-app/node_modules/vue/index.mjs";import{ssrRenderComponent as V,ssrInterpolate as w,ssrGetDirectiveProps as H,ssrRenderList as $,ssrRenderAttrs as C,ssrRenderClass as U,ssrRenderStyle as k}from"vue/server-renderer";import{mockReferences as D}from"../data/references.mjs";import{useHead as z}from"../node_modules/nuxt/dist/head/runtime/composables/v3.mjs";import{useDisplay as j}from"../node_modules/vuetify/lib/composables/display.mjs";const N=e({__name:"index",__ssrInlineRender:!0,setup(e){const{smAndDown:N}=j(),S=l({pid:null,hph:null,location:null,saleSchema:null}),P=a(!0),L=a(),I=a(!1),K=a([]),T=a([]),A=["Асеновград","Търново","София","Пловдив","Плевен","Хасково"],R=["НЗОК - Асеновград","НЗОК - Пловдив","НЗОК - София"],F=[{name:"Д-р Иванов",department:"Кардиология"},{name:"Д-р Петрова",department:"Неврология"},{name:"Д-р Георгиев",department:"Ортопедия"},{name:"Д-р Стефанова",department:"Педиатрия"},{name:"Д-р Николов",department:"Офталмология"},{name:"Д-р Димитрова",department:"Хирургия"}],G=[{key:"code",title:"Код",align:"start"},{key:"examinationName",title:"Изследване",align:"start"}],M=[{code:"00-02A",examinationName:"Изследване на витамин D"}],Y=n((()=>T.value.length>0)),E=n((()=>{var e;return(null==(e=S.pid)?void 0:e.toString().length)||0})),W=e=>e?!!/^\d{10}$/.test(e)||"ЕГН/ЛНЧ трябва да съдържа точно 10 цифри":"ЕГН/ЛНЧ не може да бъде празно",q=e=>e?!!/^[0-9А-Яа-я]{12}$/.test(e)||"HPH трябва да съдържа точно 12 символа (цифри и/или букви на кирилица)":"HPH не може да бъде празно",B=e=>{const l=new Date(e);return`${l.getDate().toString().padStart(2,"0")} ${["яну","фев","мар","апр","май","юни","юли","авг","сеп","окт","ное","дек"][l.getMonth()]} ${l.getFullYear()}г.`},J=()=>{K.value=[]},O=e=>{K.value=K.value.filter((l=>l!==e))},Q=async()=>{var e,l;!0===(P.value?W((null==(e=S.pid)?void 0:e.toString())||""):q((null==(l=S.hph)?void 0:l.toString())||""))?(I.value=!0,K.value=await(async()=>new Promise((e=>{setTimeout((()=>e(D)),1e3)})))(),I.value=!1,0===K.value.length&&console.log("No references found for the given identifier.")):console.log("Form validation failed.")},X=e=>{(void 0).clipboard.writeText(e).then((()=>console.log("Text copied to clipboard"))).catch((e=>{console.error("Failed to copy text:",e),alert("Unable to copy text.")}))},Z=e=>({title:e.name,subtitle:e.department});return z({title:"НЗИС Import Application",htmlAttrs:{lang:"bg"},meta:[{name:"description",content:"Приложение за импортиране на данни от НЗИС."},{name:"keywords",content:"НЗИС, пациентски данни, реферали, импортиране"},{name:"author",content:"SKYWARE Group | LIMS iLab"},{name:"viewport",content:"width=device-width, initial-scale=1"}]}),(e,l,a,n)=>{const D=t("v-container"),z=t("v-overlay"),j=t("v-progress-circular"),ee=t("v-switch"),le=t("v-btn"),ae=t("v-form"),ne=t("v-row"),te=t("v-col"),ie=t("v-number-input"),oe=t("v-tooltip"),de=t("v-icon"),re=t("v-text-field"),se=t("v-select"),ue=t("v-divider"),ce=t("v-card"),pe=t("v-card-title"),me=t("v-checkbox"),fe=t("v-card-text"),ge=t("v-hover"),ve=t("v-data-table"),he=t("v-date-input"),be=i("tooltip");l(V(D,o({"max-width":"1024",height:"100%",class:"w-100 mx-auto d-flex flex-column ga-4 px-4 py-8"},n),{default:d(((l,a,n,t)=>{if(!a)return[s(z,{"model-value":r(I),"z-index":"50",color:"rgba(0, 0, 0, 0.5)",class:"align-center justify-center"},{default:d((()=>[s(j,{indeterminate:"",color:"white",size:"50"})])),_:1},8,["model-value"]),s("div",{class:"d-flex flex-wrap flex-md-row flex-column-reverse align-start align-md-center justify-space-between ga-4"},[s("div",{class:"d-flex align-center ga-4"},[s("span",null,"Търсете направления по"),s(ee,{modelValue:r(P),"onUpdate:modelValue":e=>u(P)?P.value=e:null,"hide-details":!0,color:"primary",label:r(P)?"ЕГН/ЛЧН":"HPH"},{label:d((()=>[c(p(r(P)?"ЕГН/ЛЧН":"HPH"),1)])),_:1},8,["modelValue","onUpdate:modelValue","label"])]),s("div",{class:"d-flex align-center ga-4"},[v((f(),m(le,{disabled:!r(Y),color:"primary",rounded:"lg",variant:"outlined","prepend-icon":"mdi-file-import-outline",class:"d-flex"},{default:d((()=>[s("span",{class:"text-body-2"},"Импорт")])),_:1},8,["disabled"])),[[be,{text:"Импортиране на маркираните направления",openDelay:700},"bottom"]]),v((f(),m(le,{disabled:!r(Y),color:"",rounded:"lg",variant:"outlined","prepend-icon":"mdi-printer-outline",class:"d-flex"},{default:d((()=>[s("span",{class:"text-body-2"},"Печат")])),_:1},8,["disabled"])),[[be,{text:"Печатане на маркираните направления",openDelay:700},"bottom"]]),v((f(),m(le,{color:"error",rounded:"lg",variant:"outlined","prepend-icon":"mdi-close",class:"d-flex",onClick:J},{default:d((()=>[s("span",{class:"text-body-2"},"Изчисти")])),_:1})),[[be,{text:"Изчистисване на всички направления",openDelay:700},"bottom"]])])]),s(ae,{ref_key:"formRef",ref:L,onSubmit:_(Q,["prevent"])},{default:d((()=>[s(ne,{class:"d-flex flex-wrap",align:"stretch",justify:"space-between"},{default:d((()=>[s(te,{cols:"12"},{default:d((()=>[r(P)?(f(),m(ie,{key:0,modelValue:r(S).pid,"onUpdate:modelValue":e=>r(S).pid=e,value:r(S).pid,label:"ЕГН/ЛЧН","control-variant":"hidden",maxlength:"10",variant:"outlined",placeholder:"5303266698",density:"comfortable",rounded:"lg",hint:"Въведете валиден ЕГН/ЛНЧ (само цифри)","persistent-hint":"",rules:[W],counter:r(E),onKeydown:g(Q,["enter"])},{"append-inner":d((()=>[s(oe,null,{activator:d((({props:e})=>[s(de,o({class:"cursor-pointer"},e,{onClick:Q}),{default:d((()=>[c(" mdi-magnify ")])),_:2},1040)])),default:d((()=>[s("span",null,"Търсене")])),_:1})])),_:1},8,["modelValue","onUpdate:modelValue","value","rules","counter"])):(f(),m(re,{key:1,modelValue:r(S).hph,"onUpdate:modelValue":e=>r(S).hph=e,value:r(S).hph,label:"HPH",type:"text",maxlength:"12",variant:"outlined",placeholder:"5АГ30326ПВ98",density:"comfortable",rounded:"lg",hint:"Въведете валиден HPH (цифри и/или букви на кирилица)","persistent-hint":"",rules:[q],counter:r(E),onKeydown:g(Q,["enter"])},{"append-inner":d((()=>[s(oe,null,{activator:d((({props:e})=>[s(de,o({class:"cursor-pointer"},e,{onClick:Q}),{default:d((()=>[c(" mdi-magnify ")])),_:2},1040)])),default:d((()=>[s("span",null,"Търсене")])),_:1})])),_:1},8,["modelValue","onUpdate:modelValue","value","rules","counter"]))])),_:1}),s(te,{cols:"12",md:"6"},{default:d((()=>[s(se,{modelValue:r(S).saleSchema,"onUpdate:modelValue":e=>r(S).saleSchema=e,value:r(S).saleSchema,items:R,"prepend-inner-icon":"mdi-currency-eur",label:"Изберете схема на продажба","control-variant":"hidden",maxlength:"10",variant:"outlined",placeholder:"Схема на продажба",density:"comfortable",rounded:"lg",hint:"Изберете схема на продажба от списъка.","persistent-hint":""},null,8,["modelValue","onUpdate:modelValue","value"])])),_:1}),s(te,{cols:"12",md:"6"},{default:d((()=>[s(se,{modelValue:r(S).location,"onUpdate:modelValue":e=>r(S).location=e,value:r(S).location,items:A,"prepend-inner-icon":"mdi-map-marker-outline",label:"Изберете местоположение","control-variant":"hidden",maxlength:"10",variant:"outlined",placeholder:"Местоположение",density:"comfortable",rounded:"lg",hint:"Изберете местоположение от списъка.","persistent-hint":""},null,8,["modelValue","onUpdate:modelValue","value"])])),_:1})])),_:1})])),_:1},512),s(ue,{class:"my-6"}),r(K).length>0?(f(),m(ne,{key:0,align:"stretch",justify:"start",class:"flex-0-1"},{default:d((()=>[(f(!0),m(x,null,b(r(K),(e=>(f(),m(te,{key:e.id,cols:"12",sm:"6",style:{height:"fit-content"}},{default:d((()=>[s(ce,{class:"bg-white",rounded:"lg",flat:"",border:""},{default:d((()=>[s(pe,{class:"d-flex bg-grey-lighten-5 justify-space-between align-center px-2 py-0"},{default:d((()=>[v(s(me,{value:e.id,modelValue:r(T),"onUpdate:modelValue":e=>u(T)?T.value=e:null,"hide-details":!0,style:{scale:"0.8"},color:"primary",tabindex:"0","aria-label":"Селектирайте направлението"},null,8,["value","modelValue","onUpdate:modelValue"]),[[be,{text:"Селектирайте направлението",openDelay:700},"bottom"]]),s("div",{class:"d-flex align-center ga-1"},[s("div",{class:"text-subtitle-2"},[s("b",null," HPH: "+p(e.hph),1)]),s("div",{class:"relative d-flex align-center"},[v(s(le,{icon:"mdi-content-copy",size:"x-small",rounded:"circle",variant:"text",color:"",onClick:l=>X(e.hph),tabindex:"0","aria-label":"Кликнете, за да копирате в клипборда"},null,8,["onClick"]),[[be,{text:"Кликнете, за да копирате в клипборда",openDelay:700},"bottom"]])])]),v(s(le,{onClick:l=>O(e),icon:"mdi-close",color:"error",size:"small",variant:"text","aria-label":"Затворете направлението"},null,8,["onClick"]),[[be,{text:"Затворете направлението",openDelay:700},"bottom"]])])),_:2},1024),s(ue),s(fe,{class:"px-4 py-2"},{default:d((()=>[s(ge,null,{default:d((({isHovering:l,props:a})=>[s("div",o({ref_for:!0},a,{class:["d-flex flex-wrap align-center ga-2 rounded pa-2",{"bg-grey-lighten-5":l}]}),[s(de,{icon:"mdi-account-outline",size:"small"}),s("b",null,p(e.patientName),1),s("div",null,p(e.patientPid),1)],16)])),_:2},1024),s(ge,null,{default:d((({isHovering:l,props:a})=>[s("div",o({ref_for:!0},a,{class:["d-flex flex-wrap align-center ga-2 rounded pa-2",{"bg-grey-lighten-5":l}]}),[s(de,{icon:"mdi-calendar-month-outline",size:"small"}),s("div",null,[c(" Изд. "),s("b",null,p(B(e.issuedDate)),1)]),s("div",null,[c(" (Амб. л-т "),s("b",null,p(e.referenceId),1),c(" ) ")]),s("div",null,[c(" вид "),s("b",null,p(e.referenceType),1)])],16)])),_:2},1024),s(ge,null,{default:d((({isHovering:l,props:a})=>[s("div",o({ref_for:!0},a,{class:["d-flex flex-wrap align-center ga-2 rounded pa-2",{"bg-grey-lighten-5":l}]}),[s(de,{icon:"mdi-map-marker-outline",size:"small"}),s("div",null,[c(p(e.primaryLocation)+" ( ",1),s("b",null,p(e.primaryLocationCode),1),c(" ) ")]),s("div",null,[c(p(e.secondaryLocation)+" ( ",1),s("b",null,p(e.secondaryLocationCode),1),c(" ) ")])],16)])),_:2},1024),s(ge,null,{default:d((({isHovering:l,props:a})=>[s("div",o({ref_for:!0},a,{class:["d-flex flex-wrap align-center ga-2 rounded pa-2",{"bg-grey-lighten-5":l}]}),[s(de,{icon:"mdi-clipboard-pulse-outline",size:"small"}),s("div",null,p(e.patientStateCode),1)],16)])),_:2},1024),s(ge,null,{default:d((({isHovering:l,props:a})=>[s("div",o({ref_for:!0},a,{class:["d-flex flex-wrap align-center ga-2 rounded pa-2",{"bg-grey-lighten-5":l}]}),[s(de,{icon:"mdi-doctor",size:"small"}),s("b",null,p(e.referringDoctor),1),s("div",null,[c(" УИН: "),s("b",null,p(e.doctorId),1)])],16)])),_:2},1024),s(ge,null,{default:d((({isHovering:l,props:a})=>[s("div",o({ref_for:!0},a,{class:["d-flex flex-wrap align-center ga-2 rounded pa-2",{"bg-grey-lighten-5":l}]}),[s(de,{icon:"mdi-stethoscope",size:"small"}),s("div",null,[s("b",null,p(e.conditionCode),1),c(" ("+p(e.conditionDescription)+") ",1)])],16)])),_:2},1024),s(ge,null,{default:d((({isHovering:l,props:a})=>[s("div",o({ref_for:!0},a,{class:["d-flex flex-wrap align-center ga-2 rounded pa-2",{"bg-grey-lighten-5":l}]}),[s(de,{icon:"mdi-hospital-building",size:"small"}),s("div",null,[c(" РЗИ код: "),s("b",null,p(e.regionalHealthCode),1)])],16)])),_:2},1024),s(ve,{headers:G,items:M,mobile:r(N),"disable-sort":!0,"hide-default-header":r(N),"hide-default-footer":"",density:"compact",class:"bg-white w-100 border my-2 rounded"},h({"item.code":d((({item:e})=>[s("div",{class:["d-flex align-center ga-0",r(N)?"justify-end":"justify-start"]},[s("span",null,p(e.code),1)],2)])),"item.examinationName":d((({item:e})=>[s("div",{class:["d-flex align-center ga-0",r(N)?"justify-end":"justify-start"]},[s("span",null,p(e.examinationName),1)],2)])),_:2},[b(G,(e=>({name:`header.${e.key}`,fn:d((()=>[s("div",{class:"d-flex align-center font-weight-bold",style:{"text-wrap-mode":"nowrap"}},[s("span",null,p(e.title),1)])]))})))]),1032,["mobile","hide-default-header"]),s(se,{"item-props":Z,items:F,"item-value":"name","item-text":"name",modelValue:e.executorName,"onUpdate:modelValue":l=>e.executorName=l,"prepend-inner-icon":"mdi-hospital-box-outline",label:"Изпълнител на направлението","control-variant":"hidden",variant:"outlined",placeholder:"Изпълнител на направлението",density:"compact","hide-details":!0,rounded:"lg",class:"mt-4"},null,8,["modelValue","onUpdate:modelValue"]),s(he,{modelValue:e.materialCollectionDate,"onUpdate:modelValue":l=>e.materialCollectionDate=l,"prepend-icon":"","prepend-inner-icon":"mdi-test-tube",label:"Дата на материал",variant:"outlined",density:"compact",rounded:"lg","hide-details":!0,class:"mt-4"},null,8,["modelValue","onUpdate:modelValue"]),s(he,{modelValue:e.resultDate,"onUpdate:modelValue":l=>e.resultDate=l,"prepend-icon":"","prepend-inner-icon":"mdi-file-document-arrow-right-outline",label:"Дата на резултат",variant:"outlined",density:"compact",rounded:"lg","hide-details":!0,class:"mt-4"},null,8,["modelValue","onUpdate:modelValue"])])),_:2},1024)])),_:2},1024)])),_:2},1024)))),128))])),_:1})):y("",!0)];a(V(z,{"model-value":r(I),"z-index":"50",color:"rgba(0, 0, 0, 0.5)",class:"align-center justify-center"},{default:d(((e,l,a,n)=>{if(!l)return[s(j,{indeterminate:"",color:"white",size:"50"})];l(V(j,{indeterminate:"",color:"white",size:"50"},null,a,n))})),_:1},n,t)),a(`<div class="d-flex flex-wrap flex-md-row flex-column-reverse align-start align-md-center justify-space-between ga-4"${t}><div class="d-flex align-center ga-4"${t}><span${t}>Търсете направления по</span>`),a(V(ee,{modelValue:r(P),"onUpdate:modelValue":e=>u(P)?P.value=e:null,"hide-details":!0,color:"primary",label:r(P)?"ЕГН/ЛЧН":"HPH"},{label:d(((e,l,a,n)=>{if(!l)return[c(p(r(P)?"ЕГН/ЛЧН":"HPH"),1)];l(`${w(r(P)?"ЕГН/ЛЧН":"HPH")}`)})),_:1},n,t)),a(`</div><div class="d-flex align-center ga-4"${t}>`),a(V(le,o({disabled:!r(Y),color:"primary",rounded:"lg",variant:"outlined","prepend-icon":"mdi-file-import-outline",class:"d-flex"},H(e,be,{text:"Импортиране на маркираните направления",openDelay:700},"bottom")),{default:d(((e,l,a,n)=>{if(!l)return[s("span",{class:"text-body-2"},"Импорт")];l(`<span class="text-body-2"${n}>Импорт</span>`)})),_:1},n,t)),a(V(le,o({disabled:!r(Y),color:"",rounded:"lg",variant:"outlined","prepend-icon":"mdi-printer-outline",class:"d-flex"},H(e,be,{text:"Печатане на маркираните направления",openDelay:700},"bottom")),{default:d(((e,l,a,n)=>{if(!l)return[s("span",{class:"text-body-2"},"Печат")];l(`<span class="text-body-2"${n}>Печат</span>`)})),_:1},n,t)),a(V(le,o({color:"error",rounded:"lg",variant:"outlined","prepend-icon":"mdi-close",class:"d-flex",onClick:J},H(e,be,{text:"Изчистисване на всички направления",openDelay:700},"bottom")),{default:d(((e,l,a,n)=>{if(!l)return[s("span",{class:"text-body-2"},"Изчисти")];l(`<span class="text-body-2"${n}>Изчисти</span>`)})),_:1},n,t)),a("</div></div>"),a(V(ae,{ref_key:"formRef",ref:L,onSubmit:Q},{default:d(((e,l,a,n)=>{if(!l)return[s(ne,{class:"d-flex flex-wrap",align:"stretch",justify:"space-between"},{default:d((()=>[s(te,{cols:"12"},{default:d((()=>[r(P)?(f(),m(ie,{key:0,modelValue:r(S).pid,"onUpdate:modelValue":e=>r(S).pid=e,value:r(S).pid,label:"ЕГН/ЛЧН","control-variant":"hidden",maxlength:"10",variant:"outlined",placeholder:"5303266698",density:"comfortable",rounded:"lg",hint:"Въведете валиден ЕГН/ЛНЧ (само цифри)","persistent-hint":"",rules:[W],counter:r(E),onKeydown:g(Q,["enter"])},{"append-inner":d((()=>[s(oe,null,{activator:d((({props:e})=>[s(de,o({class:"cursor-pointer"},e,{onClick:Q}),{default:d((()=>[c(" mdi-magnify ")])),_:2},1040)])),default:d((()=>[s("span",null,"Търсене")])),_:1})])),_:1},8,["modelValue","onUpdate:modelValue","value","rules","counter"])):(f(),m(re,{key:1,modelValue:r(S).hph,"onUpdate:modelValue":e=>r(S).hph=e,value:r(S).hph,label:"HPH",type:"text",maxlength:"12",variant:"outlined",placeholder:"5АГ30326ПВ98",density:"comfortable",rounded:"lg",hint:"Въведете валиден HPH (цифри и/или букви на кирилица)","persistent-hint":"",rules:[q],counter:r(E),onKeydown:g(Q,["enter"])},{"append-inner":d((()=>[s(oe,null,{activator:d((({props:e})=>[s(de,o({class:"cursor-pointer"},e,{onClick:Q}),{default:d((()=>[c(" mdi-magnify ")])),_:2},1040)])),default:d((()=>[s("span",null,"Търсене")])),_:1})])),_:1},8,["modelValue","onUpdate:modelValue","value","rules","counter"]))])),_:1}),s(te,{cols:"12",md:"6"},{default:d((()=>[s(se,{modelValue:r(S).saleSchema,"onUpdate:modelValue":e=>r(S).saleSchema=e,value:r(S).saleSchema,items:R,"prepend-inner-icon":"mdi-currency-eur",label:"Изберете схема на продажба","control-variant":"hidden",maxlength:"10",variant:"outlined",placeholder:"Схема на продажба",density:"comfortable",rounded:"lg",hint:"Изберете схема на продажба от списъка.","persistent-hint":""},null,8,["modelValue","onUpdate:modelValue","value"])])),_:1}),s(te,{cols:"12",md:"6"},{default:d((()=>[s(se,{modelValue:r(S).location,"onUpdate:modelValue":e=>r(S).location=e,value:r(S).location,items:A,"prepend-inner-icon":"mdi-map-marker-outline",label:"Изберете местоположение","control-variant":"hidden",maxlength:"10",variant:"outlined",placeholder:"Местоположение",density:"comfortable",rounded:"lg",hint:"Изберете местоположение от списъка.","persistent-hint":""},null,8,["modelValue","onUpdate:modelValue","value"])])),_:1})])),_:1})];l(V(ne,{class:"d-flex flex-wrap",align:"stretch",justify:"space-between"},{default:d(((e,l,a,n)=>{if(!l)return[s(te,{cols:"12"},{default:d((()=>[r(P)?(f(),m(ie,{key:0,modelValue:r(S).pid,"onUpdate:modelValue":e=>r(S).pid=e,value:r(S).pid,label:"ЕГН/ЛЧН","control-variant":"hidden",maxlength:"10",variant:"outlined",placeholder:"5303266698",density:"comfortable",rounded:"lg",hint:"Въведете валиден ЕГН/ЛНЧ (само цифри)","persistent-hint":"",rules:[W],counter:r(E),onKeydown:g(Q,["enter"])},{"append-inner":d((()=>[s(oe,null,{activator:d((({props:e})=>[s(de,o({class:"cursor-pointer"},e,{onClick:Q}),{default:d((()=>[c(" mdi-magnify ")])),_:2},1040)])),default:d((()=>[s("span",null,"Търсене")])),_:1})])),_:1},8,["modelValue","onUpdate:modelValue","value","rules","counter"])):(f(),m(re,{key:1,modelValue:r(S).hph,"onUpdate:modelValue":e=>r(S).hph=e,value:r(S).hph,label:"HPH",type:"text",maxlength:"12",variant:"outlined",placeholder:"5АГ30326ПВ98",density:"comfortable",rounded:"lg",hint:"Въведете валиден HPH (цифри и/или букви на кирилица)","persistent-hint":"",rules:[q],counter:r(E),onKeydown:g(Q,["enter"])},{"append-inner":d((()=>[s(oe,null,{activator:d((({props:e})=>[s(de,o({class:"cursor-pointer"},e,{onClick:Q}),{default:d((()=>[c(" mdi-magnify ")])),_:2},1040)])),default:d((()=>[s("span",null,"Търсене")])),_:1})])),_:1},8,["modelValue","onUpdate:modelValue","value","rules","counter"]))])),_:1}),s(te,{cols:"12",md:"6"},{default:d((()=>[s(se,{modelValue:r(S).saleSchema,"onUpdate:modelValue":e=>r(S).saleSchema=e,value:r(S).saleSchema,items:R,"prepend-inner-icon":"mdi-currency-eur",label:"Изберете схема на продажба","control-variant":"hidden",maxlength:"10",variant:"outlined",placeholder:"Схема на продажба",density:"comfortable",rounded:"lg",hint:"Изберете схема на продажба от списъка.","persistent-hint":""},null,8,["modelValue","onUpdate:modelValue","value"])])),_:1}),s(te,{cols:"12",md:"6"},{default:d((()=>[s(se,{modelValue:r(S).location,"onUpdate:modelValue":e=>r(S).location=e,value:r(S).location,items:A,"prepend-inner-icon":"mdi-map-marker-outline",label:"Изберете местоположение","control-variant":"hidden",maxlength:"10",variant:"outlined",placeholder:"Местоположение",density:"comfortable",rounded:"lg",hint:"Изберете местоположение от списъка.","persistent-hint":""},null,8,["modelValue","onUpdate:modelValue","value"])])),_:1})];l(V(te,{cols:"12"},{default:d(((e,l,a,n)=>{if(!l)return[r(P)?(f(),m(ie,{key:0,modelValue:r(S).pid,"onUpdate:modelValue":e=>r(S).pid=e,value:r(S).pid,label:"ЕГН/ЛЧН","control-variant":"hidden",maxlength:"10",variant:"outlined",placeholder:"5303266698",density:"comfortable",rounded:"lg",hint:"Въведете валиден ЕГН/ЛНЧ (само цифри)","persistent-hint":"",rules:[W],counter:r(E),onKeydown:g(Q,["enter"])},{"append-inner":d((()=>[s(oe,null,{activator:d((({props:e})=>[s(de,o({class:"cursor-pointer"},e,{onClick:Q}),{default:d((()=>[c(" mdi-magnify ")])),_:2},1040)])),default:d((()=>[s("span",null,"Търсене")])),_:1})])),_:1},8,["modelValue","onUpdate:modelValue","value","rules","counter"])):(f(),m(re,{key:1,modelValue:r(S).hph,"onUpdate:modelValue":e=>r(S).hph=e,value:r(S).hph,label:"HPH",type:"text",maxlength:"12",variant:"outlined",placeholder:"5АГ30326ПВ98",density:"comfortable",rounded:"lg",hint:"Въведете валиден HPH (цифри и/или букви на кирилица)","persistent-hint":"",rules:[q],counter:r(E),onKeydown:g(Q,["enter"])},{"append-inner":d((()=>[s(oe,null,{activator:d((({props:e})=>[s(de,o({class:"cursor-pointer"},e,{onClick:Q}),{default:d((()=>[c(" mdi-magnify ")])),_:2},1040)])),default:d((()=>[s("span",null,"Търсене")])),_:1})])),_:1},8,["modelValue","onUpdate:modelValue","value","rules","counter"]))];r(P)?l(V(ie,{modelValue:r(S).pid,"onUpdate:modelValue":e=>r(S).pid=e,value:r(S).pid,label:"ЕГН/ЛЧН","control-variant":"hidden",maxlength:"10",variant:"outlined",placeholder:"5303266698",density:"comfortable",rounded:"lg",hint:"Въведете валиден ЕГН/ЛНЧ (само цифри)","persistent-hint":"",rules:[W],counter:r(E),onKeydown:Q},{"append-inner":d(((e,l,a,n)=>{if(!l)return[s(oe,null,{activator:d((({props:e})=>[s(de,o({class:"cursor-pointer"},e,{onClick:Q}),{default:d((()=>[c(" mdi-magnify ")])),_:2},1040)])),default:d((()=>[s("span",null,"Търсене")])),_:1})];l(V(oe,null,{activator:d((({props:e},l,a,n)=>{if(!l)return[s(de,o({class:"cursor-pointer"},e,{onClick:Q}),{default:d((()=>[c(" mdi-magnify ")])),_:2},1040)];l(V(de,o({class:"cursor-pointer"},e,{onClick:Q}),{default:d(((e,l,a,n)=>{if(!l)return[c(" mdi-magnify ")];l(" mdi-magnify ")})),_:2},a,n))})),default:d(((e,l,a,n)=>{if(!l)return[s("span",null,"Търсене")];l(`<span${n}>Търсене</span>`)})),_:1},a,n))})),_:1},a,n)):l(V(re,{modelValue:r(S).hph,"onUpdate:modelValue":e=>r(S).hph=e,value:r(S).hph,label:"HPH",type:"text",maxlength:"12",variant:"outlined",placeholder:"5АГ30326ПВ98",density:"comfortable",rounded:"lg",hint:"Въведете валиден HPH (цифри и/или букви на кирилица)","persistent-hint":"",rules:[q],counter:r(E),onKeydown:Q},{"append-inner":d(((e,l,a,n)=>{if(!l)return[s(oe,null,{activator:d((({props:e})=>[s(de,o({class:"cursor-pointer"},e,{onClick:Q}),{default:d((()=>[c(" mdi-magnify ")])),_:2},1040)])),default:d((()=>[s("span",null,"Търсене")])),_:1})];l(V(oe,null,{activator:d((({props:e},l,a,n)=>{if(!l)return[s(de,o({class:"cursor-pointer"},e,{onClick:Q}),{default:d((()=>[c(" mdi-magnify ")])),_:2},1040)];l(V(de,o({class:"cursor-pointer"},e,{onClick:Q}),{default:d(((e,l,a,n)=>{if(!l)return[c(" mdi-magnify ")];l(" mdi-magnify ")})),_:2},a,n))})),default:d(((e,l,a,n)=>{if(!l)return[s("span",null,"Търсене")];l(`<span${n}>Търсене</span>`)})),_:1},a,n))})),_:1},a,n))})),_:1},a,n)),l(V(te,{cols:"12",md:"6"},{default:d(((e,l,a,n)=>{if(!l)return[s(se,{modelValue:r(S).saleSchema,"onUpdate:modelValue":e=>r(S).saleSchema=e,value:r(S).saleSchema,items:R,"prepend-inner-icon":"mdi-currency-eur",label:"Изберете схема на продажба","control-variant":"hidden",maxlength:"10",variant:"outlined",placeholder:"Схема на продажба",density:"comfortable",rounded:"lg",hint:"Изберете схема на продажба от списъка.","persistent-hint":""},null,8,["modelValue","onUpdate:modelValue","value"])];l(V(se,{modelValue:r(S).saleSchema,"onUpdate:modelValue":e=>r(S).saleSchema=e,value:r(S).saleSchema,items:R,"prepend-inner-icon":"mdi-currency-eur",label:"Изберете схема на продажба","control-variant":"hidden",maxlength:"10",variant:"outlined",placeholder:"Схема на продажба",density:"comfortable",rounded:"lg",hint:"Изберете схема на продажба от списъка.","persistent-hint":""},null,a,n))})),_:1},a,n)),l(V(te,{cols:"12",md:"6"},{default:d(((e,l,a,n)=>{if(!l)return[s(se,{modelValue:r(S).location,"onUpdate:modelValue":e=>r(S).location=e,value:r(S).location,items:A,"prepend-inner-icon":"mdi-map-marker-outline",label:"Изберете местоположение","control-variant":"hidden",maxlength:"10",variant:"outlined",placeholder:"Местоположение",density:"comfortable",rounded:"lg",hint:"Изберете местоположение от списъка.","persistent-hint":""},null,8,["modelValue","onUpdate:modelValue","value"])];l(V(se,{modelValue:r(S).location,"onUpdate:modelValue":e=>r(S).location=e,value:r(S).location,items:A,"prepend-inner-icon":"mdi-map-marker-outline",label:"Изберете местоположение","control-variant":"hidden",maxlength:"10",variant:"outlined",placeholder:"Местоположение",density:"comfortable",rounded:"lg",hint:"Изберете местоположение от списъка.","persistent-hint":""},null,a,n))})),_:1},a,n))})),_:1},a,n))})),_:1},n,t)),a(V(ue,{class:"my-6"},null,n,t)),r(K).length>0?a(V(ne,{align:"stretch",justify:"start",class:"flex-0-1"},{default:d(((l,a,n,t)=>{if(!a)return[(f(!0),m(x,null,b(r(K),(e=>(f(),m(te,{key:e.id,cols:"12",sm:"6",style:{height:"fit-content"}},{default:d((()=>[s(ce,{class:"bg-white",rounded:"lg",flat:"",border:""},{default:d((()=>[s(pe,{class:"d-flex bg-grey-lighten-5 justify-space-between align-center px-2 py-0"},{default:d((()=>[v(s(me,{value:e.id,modelValue:r(T),"onUpdate:modelValue":e=>u(T)?T.value=e:null,"hide-details":!0,style:{scale:"0.8"},color:"primary",tabindex:"0","aria-label":"Селектирайте направлението"},null,8,["value","modelValue","onUpdate:modelValue"]),[[be,{text:"Селектирайте направлението",openDelay:700},"bottom"]]),s("div",{class:"d-flex align-center ga-1"},[s("div",{class:"text-subtitle-2"},[s("b",null," HPH: "+p(e.hph),1)]),s("div",{class:"relative d-flex align-center"},[v(s(le,{icon:"mdi-content-copy",size:"x-small",rounded:"circle",variant:"text",color:"",onClick:l=>X(e.hph),tabindex:"0","aria-label":"Кликнете, за да копирате в клипборда"},null,8,["onClick"]),[[be,{text:"Кликнете, за да копирате в клипборда",openDelay:700},"bottom"]])])]),v(s(le,{onClick:l=>O(e),icon:"mdi-close",color:"error",size:"small",variant:"text","aria-label":"Затворете направлението"},null,8,["onClick"]),[[be,{text:"Затворете направлението",openDelay:700},"bottom"]])])),_:2},1024),s(ue),s(fe,{class:"px-4 py-2"},{default:d((()=>[s(ge,null,{default:d((({isHovering:l,props:a})=>[s("div",o({ref_for:!0},a,{class:["d-flex flex-wrap align-center ga-2 rounded pa-2",{"bg-grey-lighten-5":l}]}),[s(de,{icon:"mdi-account-outline",size:"small"}),s("b",null,p(e.patientName),1),s("div",null,p(e.patientPid),1)],16)])),_:2},1024),s(ge,null,{default:d((({isHovering:l,props:a})=>[s("div",o({ref_for:!0},a,{class:["d-flex flex-wrap align-center ga-2 rounded pa-2",{"bg-grey-lighten-5":l}]}),[s(de,{icon:"mdi-calendar-month-outline",size:"small"}),s("div",null,[c(" Изд. "),s("b",null,p(B(e.issuedDate)),1)]),s("div",null,[c(" (Амб. л-т "),s("b",null,p(e.referenceId),1),c(" ) ")]),s("div",null,[c(" вид "),s("b",null,p(e.referenceType),1)])],16)])),_:2},1024),s(ge,null,{default:d((({isHovering:l,props:a})=>[s("div",o({ref_for:!0},a,{class:["d-flex flex-wrap align-center ga-2 rounded pa-2",{"bg-grey-lighten-5":l}]}),[s(de,{icon:"mdi-map-marker-outline",size:"small"}),s("div",null,[c(p(e.primaryLocation)+" ( ",1),s("b",null,p(e.primaryLocationCode),1),c(" ) ")]),s("div",null,[c(p(e.secondaryLocation)+" ( ",1),s("b",null,p(e.secondaryLocationCode),1),c(" ) ")])],16)])),_:2},1024),s(ge,null,{default:d((({isHovering:l,props:a})=>[s("div",o({ref_for:!0},a,{class:["d-flex flex-wrap align-center ga-2 rounded pa-2",{"bg-grey-lighten-5":l}]}),[s(de,{icon:"mdi-clipboard-pulse-outline",size:"small"}),s("div",null,p(e.patientStateCode),1)],16)])),_:2},1024),s(ge,null,{default:d((({isHovering:l,props:a})=>[s("div",o({ref_for:!0},a,{class:["d-flex flex-wrap align-center ga-2 rounded pa-2",{"bg-grey-lighten-5":l}]}),[s(de,{icon:"mdi-doctor",size:"small"}),s("b",null,p(e.referringDoctor),1),s("div",null,[c(" УИН: "),s("b",null,p(e.doctorId),1)])],16)])),_:2},1024),s(ge,null,{default:d((({isHovering:l,props:a})=>[s("div",o({ref_for:!0},a,{class:["d-flex flex-wrap align-center ga-2 rounded pa-2",{"bg-grey-lighten-5":l}]}),[s(de,{icon:"mdi-stethoscope",size:"small"}),s("div",null,[s("b",null,p(e.conditionCode),1),c(" ("+p(e.conditionDescription)+") ",1)])],16)])),_:2},1024),s(ge,null,{default:d((({isHovering:l,props:a})=>[s("div",o({ref_for:!0},a,{class:["d-flex flex-wrap align-center ga-2 rounded pa-2",{"bg-grey-lighten-5":l}]}),[s(de,{icon:"mdi-hospital-building",size:"small"}),s("div",null,[c(" РЗИ код: "),s("b",null,p(e.regionalHealthCode),1)])],16)])),_:2},1024),s(ve,{headers:G,items:M,mobile:r(N),"disable-sort":!0,"hide-default-header":r(N),"hide-default-footer":"",density:"compact",class:"bg-white w-100 border my-2 rounded"},h({"item.code":d((({item:e})=>[s("div",{class:["d-flex align-center ga-0",r(N)?"justify-end":"justify-start"]},[s("span",null,p(e.code),1)],2)])),"item.examinationName":d((({item:e})=>[s("div",{class:["d-flex align-center ga-0",r(N)?"justify-end":"justify-start"]},[s("span",null,p(e.examinationName),1)],2)])),_:2},[b(G,(e=>({name:`header.${e.key}`,fn:d((()=>[s("div",{class:"d-flex align-center font-weight-bold",style:{"text-wrap-mode":"nowrap"}},[s("span",null,p(e.title),1)])]))})))]),1032,["mobile","hide-default-header"]),s(se,{"item-props":Z,items:F,"item-value":"name","item-text":"name",modelValue:e.executorName,"onUpdate:modelValue":l=>e.executorName=l,"prepend-inner-icon":"mdi-hospital-box-outline",label:"Изпълнител на направлението","control-variant":"hidden",variant:"outlined",placeholder:"Изпълнител на направлението",density:"compact","hide-details":!0,rounded:"lg",class:"mt-4"},null,8,["modelValue","onUpdate:modelValue"]),s(he,{modelValue:e.materialCollectionDate,"onUpdate:modelValue":l=>e.materialCollectionDate=l,"prepend-icon":"","prepend-inner-icon":"mdi-test-tube",label:"Дата на материал",variant:"outlined",density:"compact",rounded:"lg","hide-details":!0,class:"mt-4"},null,8,["modelValue","onUpdate:modelValue"]),s(he,{modelValue:e.resultDate,"onUpdate:modelValue":l=>e.resultDate=l,"prepend-icon":"","prepend-inner-icon":"mdi-file-document-arrow-right-outline",label:"Дата на резултат",variant:"outlined",density:"compact",rounded:"lg","hide-details":!0,class:"mt-4"},null,8,["modelValue","onUpdate:modelValue"])])),_:2},1024)])),_:2},1024)])),_:2},1024)))),128))];a("\x3c!--[--\x3e"),$(r(K),(l=>{a(V(te,{key:l.id,cols:"12",sm:"6",style:{height:"fit-content"}},{default:d(((a,n,t,i)=>{if(!n)return[s(ce,{class:"bg-white",rounded:"lg",flat:"",border:""},{default:d((()=>[s(pe,{class:"d-flex bg-grey-lighten-5 justify-space-between align-center px-2 py-0"},{default:d((()=>[v(s(me,{value:l.id,modelValue:r(T),"onUpdate:modelValue":e=>u(T)?T.value=e:null,"hide-details":!0,style:{scale:"0.8"},color:"primary",tabindex:"0","aria-label":"Селектирайте направлението"},null,8,["value","modelValue","onUpdate:modelValue"]),[[be,{text:"Селектирайте направлението",openDelay:700},"bottom"]]),s("div",{class:"d-flex align-center ga-1"},[s("div",{class:"text-subtitle-2"},[s("b",null," HPH: "+p(l.hph),1)]),s("div",{class:"relative d-flex align-center"},[v(s(le,{icon:"mdi-content-copy",size:"x-small",rounded:"circle",variant:"text",color:"",onClick:e=>X(l.hph),tabindex:"0","aria-label":"Кликнете, за да копирате в клипборда"},null,8,["onClick"]),[[be,{text:"Кликнете, за да копирате в клипборда",openDelay:700},"bottom"]])])]),v(s(le,{onClick:e=>O(l),icon:"mdi-close",color:"error",size:"small",variant:"text","aria-label":"Затворете направлението"},null,8,["onClick"]),[[be,{text:"Затворете направлението",openDelay:700},"bottom"]])])),_:2},1024),s(ue),s(fe,{class:"px-4 py-2"},{default:d((()=>[s(ge,null,{default:d((({isHovering:e,props:a})=>[s("div",o({ref_for:!0},a,{class:["d-flex flex-wrap align-center ga-2 rounded pa-2",{"bg-grey-lighten-5":e}]}),[s(de,{icon:"mdi-account-outline",size:"small"}),s("b",null,p(l.patientName),1),s("div",null,p(l.patientPid),1)],16)])),_:2},1024),s(ge,null,{default:d((({isHovering:e,props:a})=>[s("div",o({ref_for:!0},a,{class:["d-flex flex-wrap align-center ga-2 rounded pa-2",{"bg-grey-lighten-5":e}]}),[s(de,{icon:"mdi-calendar-month-outline",size:"small"}),s("div",null,[c(" Изд. "),s("b",null,p(B(l.issuedDate)),1)]),s("div",null,[c(" (Амб. л-т "),s("b",null,p(l.referenceId),1),c(" ) ")]),s("div",null,[c(" вид "),s("b",null,p(l.referenceType),1)])],16)])),_:2},1024),s(ge,null,{default:d((({isHovering:e,props:a})=>[s("div",o({ref_for:!0},a,{class:["d-flex flex-wrap align-center ga-2 rounded pa-2",{"bg-grey-lighten-5":e}]}),[s(de,{icon:"mdi-map-marker-outline",size:"small"}),s("div",null,[c(p(l.primaryLocation)+" ( ",1),s("b",null,p(l.primaryLocationCode),1),c(" ) ")]),s("div",null,[c(p(l.secondaryLocation)+" ( ",1),s("b",null,p(l.secondaryLocationCode),1),c(" ) ")])],16)])),_:2},1024),s(ge,null,{default:d((({isHovering:e,props:a})=>[s("div",o({ref_for:!0},a,{class:["d-flex flex-wrap align-center ga-2 rounded pa-2",{"bg-grey-lighten-5":e}]}),[s(de,{icon:"mdi-clipboard-pulse-outline",size:"small"}),s("div",null,p(l.patientStateCode),1)],16)])),_:2},1024),s(ge,null,{default:d((({isHovering:e,props:a})=>[s("div",o({ref_for:!0},a,{class:["d-flex flex-wrap align-center ga-2 rounded pa-2",{"bg-grey-lighten-5":e}]}),[s(de,{icon:"mdi-doctor",size:"small"}),s("b",null,p(l.referringDoctor),1),s("div",null,[c(" УИН: "),s("b",null,p(l.doctorId),1)])],16)])),_:2},1024),s(ge,null,{default:d((({isHovering:e,props:a})=>[s("div",o({ref_for:!0},a,{class:["d-flex flex-wrap align-center ga-2 rounded pa-2",{"bg-grey-lighten-5":e}]}),[s(de,{icon:"mdi-stethoscope",size:"small"}),s("div",null,[s("b",null,p(l.conditionCode),1),c(" ("+p(l.conditionDescription)+") ",1)])],16)])),_:2},1024),s(ge,null,{default:d((({isHovering:e,props:a})=>[s("div",o({ref_for:!0},a,{class:["d-flex flex-wrap align-center ga-2 rounded pa-2",{"bg-grey-lighten-5":e}]}),[s(de,{icon:"mdi-hospital-building",size:"small"}),s("div",null,[c(" РЗИ код: "),s("b",null,p(l.regionalHealthCode),1)])],16)])),_:2},1024),s(ve,{headers:G,items:M,mobile:r(N),"disable-sort":!0,"hide-default-header":r(N),"hide-default-footer":"",density:"compact",class:"bg-white w-100 border my-2 rounded"},h({"item.code":d((({item:e})=>[s("div",{class:["d-flex align-center ga-0",r(N)?"justify-end":"justify-start"]},[s("span",null,p(e.code),1)],2)])),"item.examinationName":d((({item:e})=>[s("div",{class:["d-flex align-center ga-0",r(N)?"justify-end":"justify-start"]},[s("span",null,p(e.examinationName),1)],2)])),_:2},[b(G,(e=>({name:`header.${e.key}`,fn:d((()=>[s("div",{class:"d-flex align-center font-weight-bold",style:{"text-wrap-mode":"nowrap"}},[s("span",null,p(e.title),1)])]))})))]),1032,["mobile","hide-default-header"]),s(se,{"item-props":Z,items:F,"item-value":"name","item-text":"name",modelValue:l.executorName,"onUpdate:modelValue":e=>l.executorName=e,"prepend-inner-icon":"mdi-hospital-box-outline",label:"Изпълнител на направлението","control-variant":"hidden",variant:"outlined",placeholder:"Изпълнител на направлението",density:"compact","hide-details":!0,rounded:"lg",class:"mt-4"},null,8,["modelValue","onUpdate:modelValue"]),s(he,{modelValue:l.materialCollectionDate,"onUpdate:modelValue":e=>l.materialCollectionDate=e,"prepend-icon":"","prepend-inner-icon":"mdi-test-tube",label:"Дата на материал",variant:"outlined",density:"compact",rounded:"lg","hide-details":!0,class:"mt-4"},null,8,["modelValue","onUpdate:modelValue"]),s(he,{modelValue:l.resultDate,"onUpdate:modelValue":e=>l.resultDate=e,"prepend-icon":"","prepend-inner-icon":"mdi-file-document-arrow-right-outline",label:"Дата на резултат",variant:"outlined",density:"compact",rounded:"lg","hide-details":!0,class:"mt-4"},null,8,["modelValue","onUpdate:modelValue"])])),_:2},1024)])),_:2},1024)];n(V(ce,{class:"bg-white",rounded:"lg",flat:"",border:""},{default:d(((a,n,t,i)=>{if(!n)return[s(pe,{class:"d-flex bg-grey-lighten-5 justify-space-between align-center px-2 py-0"},{default:d((()=>[v(s(me,{value:l.id,modelValue:r(T),"onUpdate:modelValue":e=>u(T)?T.value=e:null,"hide-details":!0,style:{scale:"0.8"},color:"primary",tabindex:"0","aria-label":"Селектирайте направлението"},null,8,["value","modelValue","onUpdate:modelValue"]),[[be,{text:"Селектирайте направлението",openDelay:700},"bottom"]]),s("div",{class:"d-flex align-center ga-1"},[s("div",{class:"text-subtitle-2"},[s("b",null," HPH: "+p(l.hph),1)]),s("div",{class:"relative d-flex align-center"},[v(s(le,{icon:"mdi-content-copy",size:"x-small",rounded:"circle",variant:"text",color:"",onClick:e=>X(l.hph),tabindex:"0","aria-label":"Кликнете, за да копирате в клипборда"},null,8,["onClick"]),[[be,{text:"Кликнете, за да копирате в клипборда",openDelay:700},"bottom"]])])]),v(s(le,{onClick:e=>O(l),icon:"mdi-close",color:"error",size:"small",variant:"text","aria-label":"Затворете направлението"},null,8,["onClick"]),[[be,{text:"Затворете направлението",openDelay:700},"bottom"]])])),_:2},1024),s(ue),s(fe,{class:"px-4 py-2"},{default:d((()=>[s(ge,null,{default:d((({isHovering:e,props:a})=>[s("div",o({ref_for:!0},a,{class:["d-flex flex-wrap align-center ga-2 rounded pa-2",{"bg-grey-lighten-5":e}]}),[s(de,{icon:"mdi-account-outline",size:"small"}),s("b",null,p(l.patientName),1),s("div",null,p(l.patientPid),1)],16)])),_:2},1024),s(ge,null,{default:d((({isHovering:e,props:a})=>[s("div",o({ref_for:!0},a,{class:["d-flex flex-wrap align-center ga-2 rounded pa-2",{"bg-grey-lighten-5":e}]}),[s(de,{icon:"mdi-calendar-month-outline",size:"small"}),s("div",null,[c(" Изд. "),s("b",null,p(B(l.issuedDate)),1)]),s("div",null,[c(" (Амб. л-т "),s("b",null,p(l.referenceId),1),c(" ) ")]),s("div",null,[c(" вид "),s("b",null,p(l.referenceType),1)])],16)])),_:2},1024),s(ge,null,{default:d((({isHovering:e,props:a})=>[s("div",o({ref_for:!0},a,{class:["d-flex flex-wrap align-center ga-2 rounded pa-2",{"bg-grey-lighten-5":e}]}),[s(de,{icon:"mdi-map-marker-outline",size:"small"}),s("div",null,[c(p(l.primaryLocation)+" ( ",1),s("b",null,p(l.primaryLocationCode),1),c(" ) ")]),s("div",null,[c(p(l.secondaryLocation)+" ( ",1),s("b",null,p(l.secondaryLocationCode),1),c(" ) ")])],16)])),_:2},1024),s(ge,null,{default:d((({isHovering:e,props:a})=>[s("div",o({ref_for:!0},a,{class:["d-flex flex-wrap align-center ga-2 rounded pa-2",{"bg-grey-lighten-5":e}]}),[s(de,{icon:"mdi-clipboard-pulse-outline",size:"small"}),s("div",null,p(l.patientStateCode),1)],16)])),_:2},1024),s(ge,null,{default:d((({isHovering:e,props:a})=>[s("div",o({ref_for:!0},a,{class:["d-flex flex-wrap align-center ga-2 rounded pa-2",{"bg-grey-lighten-5":e}]}),[s(de,{icon:"mdi-doctor",size:"small"}),s("b",null,p(l.referringDoctor),1),s("div",null,[c(" УИН: "),s("b",null,p(l.doctorId),1)])],16)])),_:2},1024),s(ge,null,{default:d((({isHovering:e,props:a})=>[s("div",o({ref_for:!0},a,{class:["d-flex flex-wrap align-center ga-2 rounded pa-2",{"bg-grey-lighten-5":e}]}),[s(de,{icon:"mdi-stethoscope",size:"small"}),s("div",null,[s("b",null,p(l.conditionCode),1),c(" ("+p(l.conditionDescription)+") ",1)])],16)])),_:2},1024),s(ge,null,{default:d((({isHovering:e,props:a})=>[s("div",o({ref_for:!0},a,{class:["d-flex flex-wrap align-center ga-2 rounded pa-2",{"bg-grey-lighten-5":e}]}),[s(de,{icon:"mdi-hospital-building",size:"small"}),s("div",null,[c(" РЗИ код: "),s("b",null,p(l.regionalHealthCode),1)])],16)])),_:2},1024),s(ve,{headers:G,items:M,mobile:r(N),"disable-sort":!0,"hide-default-header":r(N),"hide-default-footer":"",density:"compact",class:"bg-white w-100 border my-2 rounded"},h({"item.code":d((({item:e})=>[s("div",{class:["d-flex align-center ga-0",r(N)?"justify-end":"justify-start"]},[s("span",null,p(e.code),1)],2)])),"item.examinationName":d((({item:e})=>[s("div",{class:["d-flex align-center ga-0",r(N)?"justify-end":"justify-start"]},[s("span",null,p(e.examinationName),1)],2)])),_:2},[b(G,(e=>({name:`header.${e.key}`,fn:d((()=>[s("div",{class:"d-flex align-center font-weight-bold",style:{"text-wrap-mode":"nowrap"}},[s("span",null,p(e.title),1)])]))})))]),1032,["mobile","hide-default-header"]),s(se,{"item-props":Z,items:F,"item-value":"name","item-text":"name",modelValue:l.executorName,"onUpdate:modelValue":e=>l.executorName=e,"prepend-inner-icon":"mdi-hospital-box-outline",label:"Изпълнител на направлението","control-variant":"hidden",variant:"outlined",placeholder:"Изпълнител на направлението",density:"compact","hide-details":!0,rounded:"lg",class:"mt-4"},null,8,["modelValue","onUpdate:modelValue"]),s(he,{modelValue:l.materialCollectionDate,"onUpdate:modelValue":e=>l.materialCollectionDate=e,"prepend-icon":"","prepend-inner-icon":"mdi-test-tube",label:"Дата на материал",variant:"outlined",density:"compact",rounded:"lg","hide-details":!0,class:"mt-4"},null,8,["modelValue","onUpdate:modelValue"]),s(he,{modelValue:l.resultDate,"onUpdate:modelValue":e=>l.resultDate=e,"prepend-icon":"","prepend-inner-icon":"mdi-file-document-arrow-right-outline",label:"Дата на резултат",variant:"outlined",density:"compact",rounded:"lg","hide-details":!0,class:"mt-4"},null,8,["modelValue","onUpdate:modelValue"])])),_:2},1024)];n(V(pe,{class:"d-flex bg-grey-lighten-5 justify-space-between align-center px-2 py-0"},{default:d(((a,n,t,i)=>{if(!n)return[v(s(me,{value:l.id,modelValue:r(T),"onUpdate:modelValue":e=>u(T)?T.value=e:null,"hide-details":!0,style:{scale:"0.8"},color:"primary",tabindex:"0","aria-label":"Селектирайте направлението"},null,8,["value","modelValue","onUpdate:modelValue"]),[[be,{text:"Селектирайте направлението",openDelay:700},"bottom"]]),s("div",{class:"d-flex align-center ga-1"},[s("div",{class:"text-subtitle-2"},[s("b",null," HPH: "+p(l.hph),1)]),s("div",{class:"relative d-flex align-center"},[v(s(le,{icon:"mdi-content-copy",size:"x-small",rounded:"circle",variant:"text",color:"",onClick:e=>X(l.hph),tabindex:"0","aria-label":"Кликнете, за да копирате в клипборда"},null,8,["onClick"]),[[be,{text:"Кликнете, за да копирате в клипборда",openDelay:700},"bottom"]])])]),v(s(le,{onClick:e=>O(l),icon:"mdi-close",color:"error",size:"small",variant:"text","aria-label":"Затворете направлението"},null,8,["onClick"]),[[be,{text:"Затворете направлението",openDelay:700},"bottom"]])];n(V(me,o({value:l.id,modelValue:r(T),"onUpdate:modelValue":e=>u(T)?T.value=e:null,"hide-details":!0,style:{scale:"0.8"},color:"primary",tabindex:"0","aria-label":"Селектирайте направлението"},H(e,be,{text:"Селектирайте направлението",openDelay:700},"bottom")),null,t,i)),n(`<div class="d-flex align-center ga-1"${i}><div class="text-subtitle-2"${i}><b${i}> HPH: ${w(l.hph)}</b></div><div class="relative d-flex align-center"${i}>`),n(V(le,o({icon:"mdi-content-copy",size:"x-small",rounded:"circle",variant:"text",color:"",onClick:e=>X(l.hph),tabindex:"0","aria-label":"Кликнете, за да копирате в клипборда"},H(e,be,{text:"Кликнете, за да копирате в клипборда",openDelay:700},"bottom")),null,t,i)),n("</div></div>"),n(V(le,o({onClick:e=>O(l),icon:"mdi-close",color:"error",size:"small",variant:"text","aria-label":"Затворете направлението"},H(e,be,{text:"Затворете направлението",openDelay:700},"bottom")),null,t,i))})),_:2},t,i)),n(V(ue,null,null,t,i)),n(V(fe,{class:"px-4 py-2"},{default:d(((e,a,n,t)=>{if(!a)return[s(ge,null,{default:d((({isHovering:e,props:a})=>[s("div",o({ref_for:!0},a,{class:["d-flex flex-wrap align-center ga-2 rounded pa-2",{"bg-grey-lighten-5":e}]}),[s(de,{icon:"mdi-account-outline",size:"small"}),s("b",null,p(l.patientName),1),s("div",null,p(l.patientPid),1)],16)])),_:2},1024),s(ge,null,{default:d((({isHovering:e,props:a})=>[s("div",o({ref_for:!0},a,{class:["d-flex flex-wrap align-center ga-2 rounded pa-2",{"bg-grey-lighten-5":e}]}),[s(de,{icon:"mdi-calendar-month-outline",size:"small"}),s("div",null,[c(" Изд. "),s("b",null,p(B(l.issuedDate)),1)]),s("div",null,[c(" (Амб. л-т "),s("b",null,p(l.referenceId),1),c(" ) ")]),s("div",null,[c(" вид "),s("b",null,p(l.referenceType),1)])],16)])),_:2},1024),s(ge,null,{default:d((({isHovering:e,props:a})=>[s("div",o({ref_for:!0},a,{class:["d-flex flex-wrap align-center ga-2 rounded pa-2",{"bg-grey-lighten-5":e}]}),[s(de,{icon:"mdi-map-marker-outline",size:"small"}),s("div",null,[c(p(l.primaryLocation)+" ( ",1),s("b",null,p(l.primaryLocationCode),1),c(" ) ")]),s("div",null,[c(p(l.secondaryLocation)+" ( ",1),s("b",null,p(l.secondaryLocationCode),1),c(" ) ")])],16)])),_:2},1024),s(ge,null,{default:d((({isHovering:e,props:a})=>[s("div",o({ref_for:!0},a,{class:["d-flex flex-wrap align-center ga-2 rounded pa-2",{"bg-grey-lighten-5":e}]}),[s(de,{icon:"mdi-clipboard-pulse-outline",size:"small"}),s("div",null,p(l.patientStateCode),1)],16)])),_:2},1024),s(ge,null,{default:d((({isHovering:e,props:a})=>[s("div",o({ref_for:!0},a,{class:["d-flex flex-wrap align-center ga-2 rounded pa-2",{"bg-grey-lighten-5":e}]}),[s(de,{icon:"mdi-doctor",size:"small"}),s("b",null,p(l.referringDoctor),1),s("div",null,[c(" УИН: "),s("b",null,p(l.doctorId),1)])],16)])),_:2},1024),s(ge,null,{default:d((({isHovering:e,props:a})=>[s("div",o({ref_for:!0},a,{class:["d-flex flex-wrap align-center ga-2 rounded pa-2",{"bg-grey-lighten-5":e}]}),[s(de,{icon:"mdi-stethoscope",size:"small"}),s("div",null,[s("b",null,p(l.conditionCode),1),c(" ("+p(l.conditionDescription)+") ",1)])],16)])),_:2},1024),s(ge,null,{default:d((({isHovering:e,props:a})=>[s("div",o({ref_for:!0},a,{class:["d-flex flex-wrap align-center ga-2 rounded pa-2",{"bg-grey-lighten-5":e}]}),[s(de,{icon:"mdi-hospital-building",size:"small"}),s("div",null,[c(" РЗИ код: "),s("b",null,p(l.regionalHealthCode),1)])],16)])),_:2},1024),s(ve,{headers:G,items:M,mobile:r(N),"disable-sort":!0,"hide-default-header":r(N),"hide-default-footer":"",density:"compact",class:"bg-white w-100 border my-2 rounded"},h({"item.code":d((({item:e})=>[s("div",{class:["d-flex align-center ga-0",r(N)?"justify-end":"justify-start"]},[s("span",null,p(e.code),1)],2)])),"item.examinationName":d((({item:e})=>[s("div",{class:["d-flex align-center ga-0",r(N)?"justify-end":"justify-start"]},[s("span",null,p(e.examinationName),1)],2)])),_:2},[b(G,(e=>({name:`header.${e.key}`,fn:d((()=>[s("div",{class:"d-flex align-center font-weight-bold",style:{"text-wrap-mode":"nowrap"}},[s("span",null,p(e.title),1)])]))})))]),1032,["mobile","hide-default-header"]),s(se,{"item-props":Z,items:F,"item-value":"name","item-text":"name",modelValue:l.executorName,"onUpdate:modelValue":e=>l.executorName=e,"prepend-inner-icon":"mdi-hospital-box-outline",label:"Изпълнител на направлението","control-variant":"hidden",variant:"outlined",placeholder:"Изпълнител на направлението",density:"compact","hide-details":!0,rounded:"lg",class:"mt-4"},null,8,["modelValue","onUpdate:modelValue"]),s(he,{modelValue:l.materialCollectionDate,"onUpdate:modelValue":e=>l.materialCollectionDate=e,"prepend-icon":"","prepend-inner-icon":"mdi-test-tube",label:"Дата на материал",variant:"outlined",density:"compact",rounded:"lg","hide-details":!0,class:"mt-4"},null,8,["modelValue","onUpdate:modelValue"]),s(he,{modelValue:l.resultDate,"onUpdate:modelValue":e=>l.resultDate=e,"prepend-icon":"","prepend-inner-icon":"mdi-file-document-arrow-right-outline",label:"Дата на резултат",variant:"outlined",density:"compact",rounded:"lg","hide-details":!0,class:"mt-4"},null,8,["modelValue","onUpdate:modelValue"])];a(V(ge,null,{default:d((({isHovering:e,props:a},n,t,i)=>{if(!n)return[s("div",o({ref_for:!0},a,{class:["d-flex flex-wrap align-center ga-2 rounded pa-2",{"bg-grey-lighten-5":e}]}),[s(de,{icon:"mdi-account-outline",size:"small"}),s("b",null,p(l.patientName),1),s("div",null,p(l.patientPid),1)],16)];n(`<div${C(o({ref_for:!0},a,{class:["d-flex flex-wrap align-center ga-2 rounded pa-2",{"bg-grey-lighten-5":e}]}))}${i}>`),n(V(de,{icon:"mdi-account-outline",size:"small"},null,t,i)),n(`<b${i}>${w(l.patientName)}</b><div${i}>${w(l.patientPid)}</div></div>`)})),_:2},n,t)),a(V(ge,null,{default:d((({isHovering:e,props:a},n,t,i)=>{if(!n)return[s("div",o({ref_for:!0},a,{class:["d-flex flex-wrap align-center ga-2 rounded pa-2",{"bg-grey-lighten-5":e}]}),[s(de,{icon:"mdi-calendar-month-outline",size:"small"}),s("div",null,[c(" Изд. "),s("b",null,p(B(l.issuedDate)),1)]),s("div",null,[c(" (Амб. л-т "),s("b",null,p(l.referenceId),1),c(" ) ")]),s("div",null,[c(" вид "),s("b",null,p(l.referenceType),1)])],16)];n(`<div${C(o({ref_for:!0},a,{class:["d-flex flex-wrap align-center ga-2 rounded pa-2",{"bg-grey-lighten-5":e}]}))}${i}>`),n(V(de,{icon:"mdi-calendar-month-outline",size:"small"},null,t,i)),n(`<div${i}> Изд. <b${i}>${w(B(l.issuedDate))}</b></div><div${i}> (Амб. л-т <b${i}>${w(l.referenceId)}</b> ) </div><div${i}> вид <b${i}>${w(l.referenceType)}</b></div></div>`)})),_:2},n,t)),a(V(ge,null,{default:d((({isHovering:e,props:a},n,t,i)=>{if(!n)return[s("div",o({ref_for:!0},a,{class:["d-flex flex-wrap align-center ga-2 rounded pa-2",{"bg-grey-lighten-5":e}]}),[s(de,{icon:"mdi-map-marker-outline",size:"small"}),s("div",null,[c(p(l.primaryLocation)+" ( ",1),s("b",null,p(l.primaryLocationCode),1),c(" ) ")]),s("div",null,[c(p(l.secondaryLocation)+" ( ",1),s("b",null,p(l.secondaryLocationCode),1),c(" ) ")])],16)];n(`<div${C(o({ref_for:!0},a,{class:["d-flex flex-wrap align-center ga-2 rounded pa-2",{"bg-grey-lighten-5":e}]}))}${i}>`),n(V(de,{icon:"mdi-map-marker-outline",size:"small"},null,t,i)),n(`<div${i}>${w(l.primaryLocation)} ( <b${i}>${w(l.primaryLocationCode)}</b> ) </div><div${i}>${w(l.secondaryLocation)} ( <b${i}>${w(l.secondaryLocationCode)}</b> ) </div></div>`)})),_:2},n,t)),a(V(ge,null,{default:d((({isHovering:e,props:a},n,t,i)=>{if(!n)return[s("div",o({ref_for:!0},a,{class:["d-flex flex-wrap align-center ga-2 rounded pa-2",{"bg-grey-lighten-5":e}]}),[s(de,{icon:"mdi-clipboard-pulse-outline",size:"small"}),s("div",null,p(l.patientStateCode),1)],16)];n(`<div${C(o({ref_for:!0},a,{class:["d-flex flex-wrap align-center ga-2 rounded pa-2",{"bg-grey-lighten-5":e}]}))}${i}>`),n(V(de,{icon:"mdi-clipboard-pulse-outline",size:"small"},null,t,i)),n(`<div${i}>${w(l.patientStateCode)}</div></div>`)})),_:2},n,t)),a(V(ge,null,{default:d((({isHovering:e,props:a},n,t,i)=>{if(!n)return[s("div",o({ref_for:!0},a,{class:["d-flex flex-wrap align-center ga-2 rounded pa-2",{"bg-grey-lighten-5":e}]}),[s(de,{icon:"mdi-doctor",size:"small"}),s("b",null,p(l.referringDoctor),1),s("div",null,[c(" УИН: "),s("b",null,p(l.doctorId),1)])],16)];n(`<div${C(o({ref_for:!0},a,{class:["d-flex flex-wrap align-center ga-2 rounded pa-2",{"bg-grey-lighten-5":e}]}))}${i}>`),n(V(de,{icon:"mdi-doctor",size:"small"},null,t,i)),n(`<b${i}>${w(l.referringDoctor)}</b><div${i}> УИН: <b${i}>${w(l.doctorId)}</b></div></div>`)})),_:2},n,t)),a(V(ge,null,{default:d((({isHovering:e,props:a},n,t,i)=>{if(!n)return[s("div",o({ref_for:!0},a,{class:["d-flex flex-wrap align-center ga-2 rounded pa-2",{"bg-grey-lighten-5":e}]}),[s(de,{icon:"mdi-stethoscope",size:"small"}),s("div",null,[s("b",null,p(l.conditionCode),1),c(" ("+p(l.conditionDescription)+") ",1)])],16)];n(`<div${C(o({ref_for:!0},a,{class:["d-flex flex-wrap align-center ga-2 rounded pa-2",{"bg-grey-lighten-5":e}]}))}${i}>`),n(V(de,{icon:"mdi-stethoscope",size:"small"},null,t,i)),n(`<div${i}><b${i}>${w(l.conditionCode)}</b> (${w(l.conditionDescription)}) </div></div>`)})),_:2},n,t)),a(V(ge,null,{default:d((({isHovering:e,props:a},n,t,i)=>{if(!n)return[s("div",o({ref_for:!0},a,{class:["d-flex flex-wrap align-center ga-2 rounded pa-2",{"bg-grey-lighten-5":e}]}),[s(de,{icon:"mdi-hospital-building",size:"small"}),s("div",null,[c(" РЗИ код: "),s("b",null,p(l.regionalHealthCode),1)])],16)];n(`<div${C(o({ref_for:!0},a,{class:["d-flex flex-wrap align-center ga-2 rounded pa-2",{"bg-grey-lighten-5":e}]}))}${i}>`),n(V(de,{icon:"mdi-hospital-building",size:"small"},null,t,i)),n(`<div${i}> РЗИ код: <b${i}>${w(l.regionalHealthCode)}</b></div></div>`)})),_:2},n,t)),a(V(ve,{headers:G,items:M,mobile:r(N),"disable-sort":!0,"hide-default-header":r(N),"hide-default-footer":"",density:"compact",class:"bg-white w-100 border my-2 rounded"},h({"item.code":d((({item:e},l,a,n)=>{if(!l)return[s("div",{class:["d-flex align-center ga-0",r(N)?"justify-end":"justify-start"]},[s("span",null,p(e.code),1)],2)];l(`<div class="${U([r(N)?"justify-end":"justify-start","d-flex align-center ga-0"])}"${n}><span${n}>${w(e.code)}</span></div>`)})),"item.examinationName":d((({item:e},l,a,n)=>{if(!l)return[s("div",{class:["d-flex align-center ga-0",r(N)?"justify-end":"justify-start"]},[s("span",null,p(e.examinationName),1)],2)];l(`<div class="${U([r(N)?"justify-end":"justify-start","d-flex align-center ga-0"])}"${n}><span${n}>${w(e.examinationName)}</span></div>`)})),_:2},[b(G,(e=>({name:`header.${e.key}`,fn:d(((l,a,n,t)=>{if(!a)return[s("div",{class:"d-flex align-center font-weight-bold",style:{"text-wrap-mode":"nowrap"}},[s("span",null,p(e.title),1)])];a(`<div class="d-flex align-center font-weight-bold" style="${k({"text-wrap-mode":"nowrap"})}"${t}><span${t}>${w(e.title)}</span></div>`)}))})))]),n,t)),a(V(se,{"item-props":Z,items:F,"item-value":"name","item-text":"name",modelValue:l.executorName,"onUpdate:modelValue":e=>l.executorName=e,"prepend-inner-icon":"mdi-hospital-box-outline",label:"Изпълнител на направлението","control-variant":"hidden",variant:"outlined",placeholder:"Изпълнител на направлението",density:"compact","hide-details":!0,rounded:"lg",class:"mt-4"},null,n,t)),a(V(he,{modelValue:l.materialCollectionDate,"onUpdate:modelValue":e=>l.materialCollectionDate=e,"prepend-icon":"","prepend-inner-icon":"mdi-test-tube",label:"Дата на материал",variant:"outlined",density:"compact",rounded:"lg","hide-details":!0,class:"mt-4"},null,n,t)),a(V(he,{modelValue:l.resultDate,"onUpdate:modelValue":e=>l.resultDate=e,"prepend-icon":"","prepend-inner-icon":"mdi-file-document-arrow-right-outline",label:"Дата на резултат",variant:"outlined",density:"compact",rounded:"lg","hide-details":!0,class:"mt-4"},null,n,t))})),_:2},t,i))})),_:2},t,i))})),_:2},n,t))})),a("\x3c!--]--\x3e")})),_:1},n,t)):a("\x3c!----\x3e")})),_:1},a))}}});export{N as default};
