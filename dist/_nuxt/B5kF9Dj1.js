import{d as e,r as l,a,c as t,o as n,u as o,b as i,e as r,f as d,g as s,w as u,h as c,i as p,j as m,k as v,l as f,t as h,m as g,n as x,p as y,q as b}from"./Umoiyatd.js";const _={class:"d-flex flex-wrap flex-md-row flex-column-reverse align-start align-md-center justify-space-between ga-4"},w={class:"d-flex align-center ga-4"},H={class:"d-flex align-center ga-4"},V=e({__name:"index",setup(e){const V=l({pid:null,hph:null,location:null,saleSchema:null}),S=a(!0),P=a(),k=a(!1),I=["Асеновград","Търново","София","Пловдив","Плевен","Хасково"],j=["НЗОК - Асеновград","НЗОК - Пловдив","НЗОК - София"],D=e=>e?!!/^\d{10}$/.test(e)||"ЕГН/ЛНЧ трябва да съдържа точно 10 цифри":"ЕГН/ЛНЧ не може да бъде празно",U=e=>e?!!/^[0-9А-Яа-я]{12}$/.test(e)||"HPH трябва да съдържа точно 12 символа (цифри и/или букви на кирилица)":"HPH не може да бъде празно",A=async()=>{(()=>{var e,l;const a=S.value?!0===D((null==(e=V.pid)?void 0:e.toString())||""):!0===U((null==(l=V.hph)?void 0:l.toString())||"");return a||console.error("Invalid PID/HPH"),a})()?(k.value=!0,await new Promise((e=>setTimeout(e,1e3))),console.log("Form submitted:",{...V,identifierType:S.value?"PID":"HPH"}),k.value=!1):console.log("Form validation failed.")},K=t((()=>V.pid?V.pid.toString().length:0));return n((()=>{V.location=V.location||I[0],V.saleSchema=V.saleSchema||j[0]})),o({link:[{rel:"icon",type:"image/svg+xml",href:""}],title:"НЗИС Import Application",htmlAttrs:{lang:"bg"},meta:[{name:"description",content:"НЗИС Import Application е приложение за импортиране на данни за пациенти от Националната здравна информационна система (НЗИС), което позволява лесно извличане на данни и реферали за пациента."},{name:"keywords",content:"НЗИС, пациентски данни, реферали, импортиране, здравеопазване"},{name:"author",content:"SKYWARE Group | LIMS iLab"},{name:"viewport",content:"width=device-width, initial-scale=1"}]}),(e,l)=>{const a=i("v-progress-circular"),t=i("v-overlay"),n=i("v-switch"),o=i("v-btn"),z=i("v-icon"),C=i("v-tooltip"),F=i("v-number-input"),L=i("v-text-field"),R=i("v-col"),T=i("v-select"),$=i("v-row"),q=i("v-form"),E=i("v-container"),G=r("tooltip");return s(),d(E,{"max-width":"1024",height:"100%",class:"w-100 mx-auto d-flex flex-column ga-4 px-4 py-8"},{default:u((()=>[c(t,{"model-value":m(k),"z-index":"50",color:"rgba(0, 0, 0, 0.5)",class:"align-center justify-center"},{default:u((()=>[c(a,{indeterminate:"",color:"white",size:"50"})])),_:1},8,["model-value"]),p("div",_,[p("div",w,[l[5]||(l[5]=p("span",null,"Търсете направления по",-1)),c(n,{modelValue:m(S),"onUpdate:modelValue":l[0]||(l[0]=e=>v(S)?S.value=e:null),"hide-details":!0,color:"primary",label:m(S)?"ЕГН/ЛЧН":"HPH"},{label:u((()=>[f(h(m(S)?"ЕГН/ЛЧН":"HPH"),1)])),_:1},8,["modelValue","label"])]),p("div",H,[g((s(),d(o,{color:"primary",rounded:"lg",variant:"outlined","prepend-icon":"mdi-file-import-outline",class:"d-flex"},{default:u((()=>l[6]||(l[6]=[p("span",{class:"text-body-2"},"Импорт",-1)]))),_:1})),[[G,{text:"Импортиране на маркираните направления",openDelay:700},"bottom"]]),g((s(),d(o,{color:"",rounded:"lg",variant:"outlined","prepend-icon":"mdi-printer-outline",class:"d-flex"},{default:u((()=>l[7]||(l[7]=[p("span",{class:"text-body-2"},"Печат",-1)]))),_:1})),[[G,{text:"Печатане на маркираните направления",openDelay:700},"bottom"]]),g((s(),d(o,{color:"error",rounded:"lg",variant:"outlined","prepend-icon":"mdi-close",class:"d-flex"},{default:u((()=>l[8]||(l[8]=[p("span",{class:"text-body-2"},"Изчисти",-1)]))),_:1})),[[G,{text:"Изчистисване на всички направления",openDelay:700},"bottom"]])])]),c(q,{ref_key:"formRef",ref:P,onSubmit:x(A,["prevent"])},{default:u((()=>[c($,{class:"d-flex flex-wrap",align:"stretch",justify:"space-between"},{default:u((()=>[c(R,{cols:"12"},{default:u((()=>[m(S)?(s(),d(F,{key:0,modelValue:m(V).pid,"onUpdate:modelValue":l[1]||(l[1]=e=>m(V).pid=e),value:m(V).pid,label:"ЕГН/ЛЧН","control-variant":"hidden",maxlength:"10",variant:"outlined",placeholder:"5303266698",density:"comfortable",rounded:"lg",hint:"Въведете валиден ЕГН/ЛНЧ (само цифри)","persistent-hint":"",rules:[D],counter:m(K),onKeydown:y(A,["enter"])},{"append-inner":u((()=>[c(C,null,{activator:u((({props:e})=>[c(z,b({class:"cursor-pointer"},e,{onClick:A}),{default:u((()=>l[9]||(l[9]=[f(" mdi-magnify ")]))),_:2},1040)])),default:u((()=>[l[10]||(l[10]=p("span",null,"Търсене",-1))])),_:1})])),_:1},8,["modelValue","value","rules","counter"])):(s(),d(L,{key:1,modelValue:m(V).hph,"onUpdate:modelValue":l[2]||(l[2]=e=>m(V).hph=e),value:m(V).hph,label:"HPH",type:"text",maxlength:"12",variant:"outlined",placeholder:"5АГ30326ПВ98",density:"comfortable",rounded:"lg",hint:"Въведете валиден HPH","persistent-hint":"",rules:[U],counter:m(K),onKeydown:y(A,["enter"])},{"append-inner":u((()=>[c(C,null,{activator:u((({props:e})=>[c(z,b({class:"cursor-pointer"},e,{onClick:A}),{default:u((()=>l[11]||(l[11]=[f(" mdi-magnify ")]))),_:2},1040)])),default:u((()=>[l[12]||(l[12]=p("span",null,"Търсене",-1))])),_:1})])),_:1},8,["modelValue","value","rules","counter"]))])),_:1}),c(R,{cols:"12",md:"6"},{default:u((()=>[c(T,{modelValue:m(V).saleSchema,"onUpdate:modelValue":l[3]||(l[3]=e=>m(V).saleSchema=e),value:m(V).saleSchema,items:j,"prepend-inner-icon":"mdi-currency-eur",label:"Изберете схема на продажба","control-variant":"hidden",maxlength:"10",variant:"outlined",placeholder:"Схема на продажба",density:"comfortable",rounded:"lg",hint:"Изберете схема на продажба от списъка.","persistent-hint":""},null,8,["modelValue","value"])])),_:1}),c(R,{cols:"12",md:"6"},{default:u((()=>[c(T,{modelValue:m(V).location,"onUpdate:modelValue":l[4]||(l[4]=e=>m(V).location=e),value:m(V).location,items:I,"prepend-inner-icon":"mdi-map-marker-outline",label:"Изберете местоположение","control-variant":"hidden",maxlength:"10",variant:"outlined",placeholder:"Местоположение",density:"comfortable",rounded:"lg",hint:"Изберете местоположение от списъка.","persistent-hint":""},null,8,["modelValue","value"])])),_:1})])),_:1})])),_:1},512)])),_:1})}}});export{V as default};
//# sourceMappingURL=B5kF9Dj1.js.map
